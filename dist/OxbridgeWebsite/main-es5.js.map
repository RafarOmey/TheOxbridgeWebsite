{"version":3,"sources":["webpack:///$_lazy_route_resource lazy namespace object","webpack:///src/app/app-routing.module.ts","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.module.ts","webpack:///src/app/components/about/about.component.ts","webpack:///src/app/components/about/about.component.html","webpack:///src/app/components/admin-dashboard/admin-dashboard.component.ts","webpack:///src/app/components/admin-dashboard/admin-dashboard.component.html","webpack:///src/app/components/admin-event/admin-event.component.ts","webpack:///src/app/components/admin-event/admin-event.component.html","webpack:///src/app/components/event/event.component.ts","webpack:///src/app/components/event/event.component.html","webpack:///src/app/components/events/events.component.ts","webpack:///src/app/components/events/events.component.html","webpack:///src/app/components/home/home.component.ts","webpack:///src/app/components/home/home.component.html","webpack:///src/app/components/live-event/live-event.component.ts","webpack:///src/app/components/live-event/live-event.component.html","webpack:///src/app/components/login/login.component.ts","webpack:///src/app/components/login/login.component.html","webpack:///src/app/components/page-not-found/page-not-found.component.ts","webpack:///src/app/components/page-not-found/page-not-found.component.html","webpack:///src/app/components/profile/profile.component.ts","webpack:///src/app/components/profile/profile.component.html","webpack:///src/app/components/registration/registration.component.ts","webpack:///src/app/components/registration/registration.component.html","webpack:///src/app/components/rute-planner/rute-planner.component.ts","webpack:///src/app/components/rute-planner/rute-planner.component.html","webpack:///src/app/components/user-dashboard/user-dashboard.component.ts","webpack:///src/app/components/user-dashboard/user-dashboard.component.html","webpack:///src/app/guards/auth.guard.ts","webpack:///src/app/models/Event.ts","webpack:///src/app/models/check-point.ts","webpack:///src/app/models/event-sign-up.ts","webpack:///src/app/models/event.ts","webpack:///src/app/models/participant.ts","webpack:///src/app/models/race-point.ts","webpack:///src/app/models/ship.ts","webpack:///src/app/models/user.ts","webpack:///src/app/services/event-registration.service.ts","webpack:///src/app/services/event.service.ts","webpack:///src/app/services/location-registration.service.ts","webpack:///src/app/services/race-point.service.ts","webpack:///src/app/services/ship.service.ts","webpack:///src/app/services/user.service.ts","webpack:///src/environments/environment.ts","webpack:///src/main.ts"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","exports","id","routes","path","component","canActivate","data","expectedRole","redirectTo","pathMatch","AppRoutingModule","forRoot","imports","AppComponent","cookieService","router","title","open","updateUser","check","user","JSON","parse","get","deleteAll","navigateByUrl","role","registrationClicked","selector","templateUrl","styleUrls","AppModule","declarations","providers","bootstrap","AboutComponent","AdminDashboardComponent","eventService","model","setEvents","events","getEvents","filter","filter$","valueChanges","pipe","filteredEvents","filterString","event","name","toLowerCase","indexOf","city","form","AddEvent","subscribe","eventReg","reset","error","console","log","status","OnSubmit","AdminEventComponent","formBuilder","route","eventRegService","eventForm","group","required","eventStart","eventEnd","startTime","endTime","setEvent","setParticipants","eventId","paramMap","params","hasRoute","parseInt","buttonText","participants","getParticipants","filteredParticipants","participant","firstname","lastname","shipName","teamName","emailUsername","getEvent","patchValue","controls","setValue","Date","setUTCHours","getUTCHours","newEvent","value","updateEvent","alert","addParticipant","updateParticipant","deleteParticipant","eventRegId","deleteEvent","startEvent","stopEvent","onSubmit","EventComponent","locationRegService","racePointService","markers","isLive","actualEventStart","undefined","raceIsOver","setScoreboard","mapInitializer","coordinates","google","maps","LatLng","mapOptions","center","zoom","map","Map","gmap","nativeElement","getAllEventRacePoints","racePoints","forEach","racePoint","placeMarker","firstLatitude","firstLongtitude","type","secondLatitude","secondLongtitude","setCenter","position","latLng","marker","Marker","setIcon","push","length","marker1","marker2","setPolyline","setMap","lineCoordinates","line","Polyline","geodesic","strokeColor","strokeOpacity","strokeWeight","scoreboard","getScoreboard","EventsComponent","HomeComponent","LiveEventComponent","boatMarkers","getStartAndFinish","initializeBoatTracking","url","icon","polyline","timer","setInterval","getLive","scores","setBoatMarkers","observer","next","score","boat","locationsRegistrations","latitude","longtitude","label","text","placement","toString","color","setTitle","shipId","index","getTitle","setLabel","setPosition","clearInterval","LoginComponent","userService","appComponent","wrongLogin","wrongPassword","login","password","set","stringify","navigate","PageNotFoundComponent","ProfileComponent","http","shipService","setShips","ships","getMyShips","ship","deleteShip","res","addShip","OnShipSubmit","RegistrationComponent","isAvaliable","registerUser","RutePlannerComponent","location","polylines","checkPoints","secondMarker","setCheckpoint","addListener","checkPointChoosen","checkPoint","deleteCheckPointMarkers","splice","pin1","pin2","checkpoint","newRacePoint","getPosition","lng","lat","saveRoute","racepoints","back","UserDashboardComponent","alreadySignedUp","WrongEventCode","setMyEvents","getMyEvents","SignUpForEvent","eventCode","message","statusText","AuthGuard","Authenticate","tokenDecoded","getDecodedAccessToken","token","providedIn","Event","eventStartTime","eventEndTime","CheckPoint","EventSignUp","Participant","RacePoint","racePointNumber","racePointId","Ship","User","EventRegistrationService","eventRegistrationUrl","httpOptions","headers","post","put","eventRegistration","EventService","eventsUrl","handleError","dateTimeNow","now","setHours","getHours","toUTCString","operation","result","LocationRegistrationService","locationRegUrl","RacePointService","racepointUrl","ShipService","shipUrl","newShip","UserService","userUrl","newUser","environment","production","bootstrapModule","err"],"mappings":"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","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { HomeComponent } from './components/home/home.component';\r\nimport { PageNotFoundComponent } from './components/page-not-found/page-not-found.component';\r\nimport { EventsComponent } from './components/events/events.component';\r\nimport { AboutComponent } from './components/about/about.component';\r\nimport { RegistrationComponent } from './components/registration/registration.component';\r\nimport { LoginComponent } from './components/login/login.component';\r\nimport { EventComponent } from './components/event/event.component';\r\nimport { UserDashboardComponent } from './components/user-dashboard/user-dashboard.component';\r\nimport { AuthGuard } from './guards/auth.guard';\r\nimport { AdminDashboardComponent } from './components/admin-dashboard/admin-dashboard.component';\r\nimport { ProfileComponent } from './components/profile/profile.component';\r\nimport { AdminEventComponent } from './components/admin-event/admin-event.component';\r\nimport { RutePlannerComponent } from './components/rute-planner/rute-planner.component';\r\nimport { LiveEventComponent } from './components/live-event/live-event.component';\r\n\r\nconst routes: Routes = [\r\n  { path: 'hjem', component: HomeComponent },\r\n  { path: 'events', component: EventsComponent },\r\n  { path: 'omos', component: AboutComponent },\r\n  { path: 'tilmelding', component: RegistrationComponent },\r\n  { path: 'logind', component: LoginComponent },\r\n  { path: 'mineEvents', component: UserDashboardComponent, canActivate: [AuthGuard], data: {expectedRole: 'user' }},\r\n  { path: 'administrerEvents', component: AdminDashboardComponent, canActivate: [AuthGuard], data: {expectedRole: 'admin' }},\r\n  { path: 'events/:eventId/:name', component: EventComponent },\r\n  { path: 'events/:eventId/:name/live', component: LiveEventComponent},\r\n  { path: 'profil', component: ProfileComponent, canActivate: [AuthGuard], data: { expectedRole: 'user' }},\r\n  { path: 'administrerEvent/:eventId/:name', component: AdminEventComponent, canActivate: [AuthGuard], data: { expectedRole: 'admin' }},\r\n  { path: 'administrerEvent/:eventId/:name/ruteplanner', component: RutePlannerComponent, canActivate: [AuthGuard], data: { expectedRole: 'admin' }},\r\n  { path: '', redirectTo:'/hjem', pathMatch: 'full' },\r\n  { path: '**', component: PageNotFoundComponent }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule { }\r\n","import { Component } from '@angular/core';\r\nimport { User } from './models/user';\r\nimport { CookieService } from 'ngx-cookie-service';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css']\r\n})\r\nexport class AppComponent {\r\n\r\n  title = 'Tregatta';\r\n  public user: User;\r\n  public open: boolean;\r\n\r\n  constructor(private cookieService: CookieService, private router: Router) {\r\n    this.open = true;\r\n    this.updateUser();\r\n  }\r\n\r\n  /**\r\n   * Updates the user to the user saved in cookies\r\n   */\r\n  public updateUser() {\r\n    if (this.cookieService.check('user'))\r\n      this.user = JSON.parse(this.cookieService.get('user'));\r\n    else\r\n      this.user = null;\r\n  }\r\n\r\n  /**\r\n   * Event handler for the dropdown button\r\n   */\r\n  dropDownClicked() {\r\n    if (this.open)\r\n      this.open = false;\r\n    else\r\n      this.open = true;\r\n  }\r\n\r\n  /**\r\n   * Deletes the user from cookies and sets the user to null\r\n   */\r\n  LogOut() {\r\n    this.cookieService.deleteAll('user');\r\n    this.user = null;\r\n    this.router.navigateByUrl('/hjem');\r\n  }\r\n\r\n  /**\r\n   * Navigates to a specific path depending on the saved user information\r\n   */\r\n  registrationClicked() {\r\n    if (this.cookieService.check('user')) {\r\n      let user = JSON.parse(this.cookieService.get('user'));\r\n      if (user.role === 'admin')\r\n        this.router.navigateByUrl('/administrerEvents');\r\n      else\r\n        this.router.navigateByUrl('/mineEvents');\r\n    }\r\n    else\r\n      this.router.navigateByUrl('/tilmelding');\r\n  }\r\n}\r\n","<!-- Navigationbar -->\r\n<nav class=\"navbar navbar-expand-lg navbar-light bg-light sticky-top shadow\" style=\"background-color: #e3f2fd;\">\r\n  <div class=\"container\">\r\n    <a class=\"navbar-brand\" routerLink=\"/hjem\" routerLinkActive=\"active\">\r\n      <img src=\"../assets/images/logoTrans.png\" alt=\"\" width=\"170\" height=\"55\">\r\n    </a>\r\n    <button class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarResponsive\"\r\n      aria-controls=\"navbarResponsive\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n      <span class=\"navbar-toggler-icon\"></span>\r\n    </button>\r\n    <div class=\"collapse navbar-collapse\"></div>\r\n    <div class=\"collapse navbar-collapse\" id=\"navbarResponsive\">\r\n      <ul class=\"navbar-nav mr-auto\">\r\n        <li class=\"nav-item\">\r\n          <a class=\"nav-link\" routerLink=\"/events\" routerLinkActive=\"active\">Events</a>\r\n        </li>\r\n        <li class=\"nav-item\">\r\n          <a class=\"nav-link\" (click)=\"registrationClicked()\">Tilmelding</a>\r\n        </li>\r\n        <li class=\"nav-item\">\r\n          <a class=\"nav-link\" routerLink=\"/omos\" routerLinkActive=\"active\">Om os</a>\r\n        </li>\r\n      </ul>\r\n      <div *ngIf=\"!user\">\r\n        <button class=\"btn btn-outline-info my-2 my-sm-0 btn-sm\" routerLink=\"/logind\">Log ind</button>\r\n      </div>\r\n      <div *ngIf=\"user\">\r\n        <div class=\"d-inline-block\" ngbDropdown #myDrop=\"ngbDropdown\">\r\n          <button class=\"btn btn-outline-info mr-2\" id=\"dropdownManual\" ngbDropdownAnchor\r\n            (focus)=\"myDrop.open()\">{{user.firstname}}</button>\r\n          <div *ngIf=\"user.role === 'user'\" ngbDropdownMenu aria-labelledby=\"dropdownManual\">\r\n            <button ngbDropdownItem routerLink=\"/mineEvents\">Mine Events</button>\r\n            <button ngbDropdownItem routerLink=\"/profil\">Profil</button>\r\n            <button ngbDropdownItem (click)=\"LogOut()\">Log ud</button>\r\n          </div>\r\n          <div *ngIf=\"user.role === 'admin'\" ngbDropdownMenu aria-labelledby=\"dropdownManual\">\r\n            <button ngbDropdownItem routerLink=\"/administrerEvents\">Administrer Events</button>\r\n            <button ngbDropdownItem routerLink=\"/profil\">Profil</button>\r\n            <button ngbDropdownItem (click)=\"LogOut()\">Log ud</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</nav>\r\n\r\n<router-outlet></router-outlet>\r\n\r\n<!-- Footer -->\r\n<footer id=\"footer\" class=\"bg-light\">\r\n  <div class=\"container bg-light\">\r\n    <div class=\"container bg-light\">\r\n      <h4 class=\"text-center text-uppercase pt-3\">Kontakt os</h4>\r\n      <p class=\"text-center w-75 m-auto\">Åbningstider: Man-Fre: 09-16, Lør: 10-14</p>\r\n      <div class=\"row bg-light\">\r\n        <div class=\" col-lg-4 my-2 bg-light\">\r\n          <div class=\"card border-0 bg-light\">\r\n            <div class=\"card-body text-center bg-light\">\r\n              <i class=\"fa fa-phone fa-2x mb-2\" aria-hidden=\"true\"></i>\r\n              <h6 class=\"text-uppercase mb-3\">Telefon</h6>\r\n              <p>+45 75252627</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-lg-4 my-2\">\r\n          <div class=\"card border-0 bg-light\">\r\n            <div class=\"card-body text-center\">\r\n              <i class=\"fa fa-map-marker fa-2x mb-2\" aria-hidden=\"true\"></i>\r\n              <h6 class=\"text-uppercase mb-3\">Kontor</h6>\r\n              <address>Ellegårvej 3, 6400 Sønderborg</address>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-lg-4 my-2\">\r\n          <div class=\"card border-0 bg-light\">\r\n            <div class=\"card-body text-center\">\r\n              <i class=\"fa fa-globe fa-2x mb-2\" aria-hidden=\"true\"></i>\r\n              <h6 class=\"text-uppercase mb-3\">email</h6>\r\n              <p>info@tregatta.com</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"row\">\r\n      <div class=\"col-xs-12 col-sm-12 col-md-12 mt-2 mt-sm-1\">\r\n        <ul class=\"list-unstyled list-inline social text-center\">\r\n          <!--Facebook-->\r\n          <a class=\"fb-ic mr-3 ml-4\" role=\"button\"><i class=\"fab fa-lg fa-facebook-f\"></i></a>\r\n          <!--Twitter-->\r\n          <a class=\"tw-ic mr-3 ml-3\" role=\"button\"><i class=\"fab fa-lg fa-twitter\"></i></a>\r\n          <!--Instagram-->\r\n          <a class=\"ins-ic mr-3 ml-3\" role=\"button\"><i class=\"fab fa-lg fa-instagram\"></i></a>\r\n          <!--Linkedin-->\r\n          <a class=\"li-ic mr-3 ml-3\" role=\"button\"><i class=\"fab fa-lg fa-linkedin-in\"></i></a>\r\n          <!--Google +-->\r\n          <a class=\"gplus-ic mr-3 ml-3\" role=\"button\"><i class=\"fab fa-lg fa-google-plus-g\"></i></a>\r\n        </ul>\r\n      </div>\r\n      <hr>\r\n    </div>\r\n  </div>\r\n</footer>","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { AppComponent } from './app.component';\r\nimport { HomeComponent } from './components/home/home.component';\r\nimport { AboutComponent } from './components/about/about.component';\r\nimport { RegistrationComponent } from './components/registration/registration.component';\r\nimport { PageNotFoundComponent } from './components/page-not-found/page-not-found.component';\r\nimport { EventsComponent } from './components/events/events.component';\r\nimport { LoginComponent } from './components/login/login.component';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { EventComponent } from './components/event/event.component';\r\nimport { ValidateEqualModule } from 'ng-validate-equal';\r\nimport { AuthGuard } from './guards/auth.guard';\r\nimport { UserDashboardComponent } from './components/user-dashboard/user-dashboard.component';\r\nimport { CookieService } from 'ngx-cookie-service';\r\nimport { AdminDashboardComponent } from './components/admin-dashboard/admin-dashboard.component';\r\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\r\nimport { ProfileComponent } from './components/profile/profile.component';\r\nimport { AdminEventComponent } from './components/admin-event/admin-event.component';\r\nimport { RutePlannerComponent } from './components/rute-planner/rute-planner.component';\nimport { LiveEventComponent } from './components/live-event/live-event.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    HomeComponent,\r\n    AboutComponent,\r\n    RegistrationComponent,\r\n    PageNotFoundComponent,\r\n    EventsComponent,\r\n    LoginComponent,\r\n    EventComponent,\r\n    UserDashboardComponent,\r\n    AdminDashboardComponent,\r\n    ProfileComponent,\r\n    AdminEventComponent,\r\n    RutePlannerComponent,\r\n    LiveEventComponent\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    AppRoutingModule,\r\n    HttpClientModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    ValidateEqualModule,\r\n    NgbModule\r\n  ],\r\n  providers: [AuthGuard, CookieService],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule {\r\n\r\n }\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-about',\r\n  templateUrl: './about.component.html',\r\n  styleUrls: ['./about.component.css']\r\n})\r\nexport class AboutComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<div id=\"image\">\r\n    <div class=\"container h-100\">\r\n        <div class=\"row h-100 align-items-end pb-4\">\r\n            <div class=\"image-text col-3 text-start\">\r\n                <h1 class=\"font-weight-normal text-white\">Om os</h1>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<section id=\"mainSection\" class=\"container pt-5 pb-5\">\r\n    <div class=\"columns\">\r\n        <div class=\"row\">\r\n            <article class=\"text-center col-md-6 my-2\">\r\n                <h2 class=\"font-weight-light\">Mission</h2>\r\n                <p><strong class=\"text-muted\">Gør svær at følge-sport interessant med GPS-sporing i realtid</strong></p>\r\n                <p>Vi giver synligheden til sporten, engagerer tilskuerne og driver fanbasis og sponsorværdi ved at afsløre og visualisere øjeblikke af svære at følge-sport i realtid</p>\r\n            </article>\r\n            <article class=\"text-center col-md-6 my-2 \">\r\n                <h2 class=\"font-weight-light\">Om os</h2>\r\n                <p>Tregatta blev grundlagt i 2020 og ejes og drives af stifterne. Vi kommer alle fra en lang baggrund i sport som elite atleter eller trænere og bygger på en stærk lidenskab for at vise vores sport for verden og leverer spændingen, forståelsen og de vigtigste øjeblikke af sportsgrene, der ellers er svære at følge.</p>\r\n            </article>\r\n        </div>\r\n    </div>\r\n</section>","import { Component, OnInit } from '@angular/core';\r\nimport { FormControl, NgForm } from '@angular/forms';\r\nimport { Observable, combineLatest } from 'rxjs';\r\nimport { Event } from 'src/app/models/Event';\r\nimport { EventService } from 'src/app/services/event.service';\r\nimport { CookieService } from 'ngx-cookie-service';\r\nimport { startWith, map } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'app-admin-dashboard',\r\n  templateUrl: './admin-dashboard.component.html',\r\n  styleUrls: ['./admin-dashboard.component.css']\r\n})\r\n\r\nexport class AdminDashboardComponent implements OnInit {\r\n\r\n  events: Observable<Event[]>;\r\n  filter: FormControl;\r\n  filter$: Observable<string>;\r\n  filteredEvents: Observable<Event[]>;\r\n\r\n  model = new Event();\r\n\r\n  constructor(private eventService: EventService) {\r\n    this.setEvents();\r\n  }\r\n\r\n  ngOnInit(): void { }\r\n\r\n  /**\r\n   * Gets all events from the backend and sets the search filter\r\n   */\r\n  setEvents() {\r\n    this.events = this.eventService.getEvents();\r\n    this.filter = new FormControl('');\r\n    this.filter$ = this.filter.valueChanges.pipe(startWith(''));\r\n\r\n    this.filteredEvents = combineLatest(this.events, this.filter$)\r\n      .pipe(map(([events, filterString]) => events.filter(event => event.name.toLowerCase().indexOf(filterString.toLowerCase()) !== -1 || event.city.toLowerCase().indexOf(filterString.toLowerCase()) !== -1)));\r\n  }\r\n\r\n  /**\r\n   * Event handler for submitting a new event\r\n   * @param form \r\n   */\r\n  OnSubmit(form: NgForm) {\r\n    this.eventService.AddEvent(this.model).pipe()\r\n      .subscribe(eventReg => {\r\n        this.setEvents();\r\n        form.reset();\r\n      },\r\n        error => {\r\n          console.log(error.status);\r\n        });\r\n  }\r\n}\r\n","<div id=\"image\">\r\n    <div class=\"container h-100 align-items-start\">\r\n        <div class=\"row h-100 align-items-end pb-4\">\r\n            <div class=\" col-lg text-start\">\r\n                <h1 class=\"image-text font-weight-normal text-white pb-2 pl-3 pr-3\">Administrer Events</h1>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n\r\n<div class=\"row\">\r\n    <div class=\"col-lg-2\"></div>\r\n\r\n    <!-- List of events -->\r\n    <section class=\"eventList pt-4 col-lg-6\">\r\n        <div class=\"container\" *ngFor=\"let event of filteredEvents | async\">\r\n            <div class=\"event row p-1 pb-3\">\r\n                <div class=\"pt-2\">\r\n                    <img id=\"eventIcon\" src=\"../../../assets/images/pin.png\">\r\n                </div>\r\n                <div class=\"col-sm\">\r\n                    <a id=\"eventLink\" class=\"btn btn-link\"\r\n                        [routerLink]=\"['/administrerEvent', event.eventId, event.name]\" routerLinkActive=\"active\">\r\n                        <h4 class=\"pt-1\">{{event.name}}</h4>\r\n                    </a>\r\n                    <div id=\"date\" class=\"row pl-3\">\r\n                        <label>{{event.eventStart | date}} - {{event.eventEnd | date}}</label>\r\n                    </div>\r\n                    <div id=\"city\" class=\"row pl-3\">\r\n                        <label>{{event.city}}</label>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </section>\r\n\r\n    <!-- Right side menu -->\r\n    <div id=\"rightMenu\" class=\"col\">\r\n        <form class=\"form-inline p-3 pt-4\">\r\n            <input class=\"form-control mr-sm-2 form-control-sm\" type=\"search\" placeholder=\"Søg efter event\"\r\n                [formControl]=\"filter\" aria-label=\"Søg\">\r\n            <button class=\"btn btn-outline-info my-2 my-sm-0 btn-sm\" type=\"submit\">Søg</button>\r\n        </form>\r\n\r\n        <!-- Event form -->\r\n        <div class=\"container justify-content-center col-sm-9 mt-5\">\r\n            <form id=\"addEvent\" class=\"p-3 pt-4 justify-content-center\" #AddEventForm=\"ngForm\"\r\n                (ngSubmit)=\"OnSubmit(AddEventForm)\">\r\n                <div class=\"row justify-content-center pb-3\">\r\n                    <h3 class=\"font-weight-normal\">Tilføj event her</h3>\r\n                </div>\r\n                <div class=\"row justify-content-center pb-2\">\r\n                    <div class=\"col\">\r\n                        <input class=\"form-control mr-sm-2 form-control-sm\" placeholder=\"Event navn\" required\r\n                            [(ngModel)]=\"model.name\" #eventName=\"ngModel\" name=\"eventName\">\r\n                    </div>\r\n                    <div class=\"col\">\r\n                        <input class=\"form-control mr-sm-2 form-control-sm\" placeholder=\"By\" required\r\n                            [(ngModel)]=\"model.city\" #city=\"ngModel\" name=\"city\">\r\n                    </div>\r\n                </div>\r\n                <div id=\"dates\" class=\"row justify-content-center\">\r\n                    <div class=\"col-xs pl-3 \">\r\n                        <p class=\"pt-1\">Start dato: </p>\r\n                    </div>\r\n                    <div class=\"col-md-5 p-0 pl-2\">\r\n                        <input class=\"date font-weight-light form-control font-size-l\" type=\"date\" #eventStart=\"ngModel\"\r\n                            name=\"eventStart\" placeholder=\"Start dato\" [(ngModel)]=\"model.eventStart\" required>\r\n                    </div>\r\n                    <div class=\"col-sm\">\r\n                        <input class=\"form-control mr-sm-2 form-control-sm\" placeholder=\"Start tidspunkt\"\r\n                            [(ngModel)]=\"model.eventStartTime\" required #eventStartTime=\"ngModel\" name=\"eventStartTime\">\r\n                    </div>\r\n                </div>\r\n                <div class=\"row justify-content-center\">\r\n                    <div class=\"col-xs pl-3 pr-1\">\r\n                        <p class=\"pt-1\">Slut dato: </p>\r\n                    </div>\r\n                    <div class=\"col-md-5 p-0 pl-2\">\r\n                        <input class=\"date font-weight-light form-control font-size-l\" type=\"date\" #eventEnd=\"ngModel\"\r\n                            name=\"eventEnd\" placeholder=\"Slut dato\" [(ngModel)]=\"model.eventEnd\" required>\r\n                    </div>\r\n                    <div class=\"col-sm\">\r\n                        <input class=\"form-control mr-sm-2 form-control-sm\" placeholder=\"Slut tidspunkt\"\r\n                            [(ngModel)]=\"model.eventEndTime\" required #eventEndTime=\"ngModel\" name=\"eventEndTime\">\r\n                    </div>\r\n\r\n                </div>\r\n                <div class=\"row justify-content-center pr-3\">\r\n                    <div class=\"col\">\r\n                        <input class=\"form-control mr-sm-2 form-control-sm\" placeholder=\"Eventkode\" required\r\n                            [(ngModel)]=\"model.eventCode\" #eventCode=\"ngModel\" name=\"eventCode\">\r\n                    </div>\r\n                    <button class=\"btn btn-info my-sm-0 btn-sm \" type=\"submit\"\r\n                        [disabled]=\"!AddEventForm.form.valid\">Opret Event</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    </div>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { Observable, combineLatest } from 'rxjs';\r\nimport { ActivatedRoute, ParamMap } from '@angular/router';\r\nimport { EventService } from 'src/app/services/event.service';\r\nimport { switchMap, tap, startWith, map } from 'rxjs/operators';\r\nimport { Event } from '../../models/event';\r\nimport { FormGroup, FormControl, FormBuilder, Validators, NgForm } from '@angular/forms';\r\nimport { formatDate } from '@angular/common';\r\nimport { Participant } from 'src/app/models/participant';\r\nimport { EventRegistrationService } from 'src/app/services/event-registration.service';\r\nimport { Router } from '@angular/router';\r\n\r\n\r\n@Component({\r\n  selector: 'app-admin-event',\r\n  templateUrl: './admin-event.component.html',\r\n  styleUrls: ['./admin-event.component.css']\r\n})\r\nexport class AdminEventComponent implements OnInit {\r\n\r\n  event: Observable<Event>;\r\n  eventId: string;\r\n\r\n  participants: Observable<Participant[]>;\r\n  filter: FormControl;\r\n  filter$: Observable<string>;\r\n  filteredParticipants: Observable<Participant[]>;\r\n\r\n  eventForm: FormGroup;\r\n  model: Participant;\r\n\r\n  buttonText: String;\r\n  hasRoute: Observable<boolean>;\r\n\r\n  constructor(private formBuilder: FormBuilder, private route: ActivatedRoute, private eventService: EventService, private eventRegService: EventRegistrationService, private router: Router) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n\r\n    //Initializing the formgroup\r\n    this.eventForm = this.formBuilder.group({\r\n      name: ['', Validators.required],\r\n      eventStart: ['', Validators.required],\r\n      eventEnd: ['', Validators.required],\r\n      city: ['', Validators.required],\r\n      startTime: ['', Validators.required],\r\n      endTime: ['', Validators.required]\r\n    });\r\n\r\n    this.setEvent();\r\n    this.setParticipants();\r\n\r\n    this.event.subscribe(event => {\r\n      this.eventId = event.eventId\r\n      this.model = new Participant(\"\", \"\", \"\", \"\", \"\", event.eventId, \"\")\r\n    });\r\n\r\n    //Checks if the event has a route or not\r\n    this.route.paramMap.pipe(switchMap((params: ParamMap) => {\r\n      return this.eventService.hasRoute(parseInt(params.get('eventId')))\r\n    })).subscribe(hasRoute => {\r\n      if (hasRoute)\r\n        this.buttonText = \"Se Rute\";\r\n      else\r\n        this.buttonText = \"Planlæg rute\";\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Gets the participants of the event and initialize the search filter\r\n   */\r\n  setParticipants() {\r\n    this.participants = this.route.paramMap.pipe(\r\n      switchMap((params: ParamMap) =>\r\n        this.eventRegService.getParticipants(parseInt(params.get('eventId'))))\r\n    )\r\n\r\n    this.filter = new FormControl('');\r\n    this.filter$ = this.filter.valueChanges.pipe(startWith(''));\r\n\r\n    this.filteredParticipants = combineLatest(this.participants, this.filter$)\r\n      .pipe(map(([participants, filterString]) => participants.filter(participant =>\r\n        participant.firstname.toLowerCase().indexOf(filterString.toLowerCase()) !== -1 ||\r\n        participant.lastname.toLowerCase().indexOf(filterString.toLowerCase()) !== -1 ||\r\n        participant.shipName.toLowerCase().indexOf(filterString.toLowerCase()) !== -1 ||\r\n        participant.teamName.toLowerCase().indexOf(filterString.toLowerCase()) !== -1 ||\r\n        participant.emailUsername.toLowerCase().indexOf(filterString.toLowerCase()) !== -1\r\n      )));\r\n  }\r\n\r\n  /**\r\n   * Filling the FormGroup with the event information\r\n   */\r\n  setEvent() {\r\n    this.event = this.route.paramMap.pipe(\r\n      switchMap((params: ParamMap) =>\r\n        this.eventService.getEvent(parseInt(params.get('eventId'))).pipe(tap(event => {\r\n          this.eventForm.patchValue(event);\r\n\r\n          //Formatting the dates and times\r\n          this.eventForm.controls['eventStart'].setValue(formatDate(event.eventStart, 'yyyy-MM-dd', 'en'));\r\n          this.eventForm.controls['eventEnd'].setValue(formatDate(event.eventEnd, 'yyyy-MM-dd', 'en'));\r\n\r\n          let startTime = new Date(event.eventStart);\r\n          startTime.setUTCHours(startTime.getUTCHours() - 2);\r\n          this.eventForm.controls['startTime'].setValue(formatDate(startTime, 'HH:mm', 'en'));\r\n\r\n          let endTime = new Date(event.eventEnd);\r\n          endTime.setUTCHours(endTime.getUTCHours() - 2);\r\n          this.eventForm.controls['endTime'].setValue(formatDate(endTime, 'HH:mm', 'en'));\r\n        })))\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Event handler for submitting changes to the event information\r\n   */\r\n  onEventSubmit() {\r\n    let newEvent = new Event();\r\n    newEvent.eventStart = this.eventForm.controls['eventStart'].value + \"T\" + this.eventForm.controls['startTime'].value + \":00.000+00:00\";\r\n    newEvent.eventEnd = this.eventForm.controls['eventEnd'].value + \"T\" + this.eventForm.controls['endTime'].value + \":00.000+00:00\";\r\n    newEvent.name = this.eventForm.controls['name'].value;\r\n    newEvent.city = this.eventForm.controls['city'].value;\r\n\r\n    this.event.subscribe(event => {\r\n      newEvent.eventId = event.eventId;\r\n      this.eventService.updateEvent(newEvent, newEvent.eventId).subscribe(event => {\r\n        alert(\"De nye eventinformationer er gemt\");\r\n        this.setEvent();\r\n      },\r\n        error => {\r\n          console.log(error);\r\n        });\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Event handler for submitting a new participant to the event\r\n   * @param form \r\n   */\r\n  onSubmit(form: NgForm) {\r\n    this.eventRegService.addParticipant(this.model).pipe()\r\n      .subscribe(participant => {\r\n        this.setParticipants();\r\n        form.reset();\r\n      },\r\n        error => {\r\n          console.log(error.status);\r\n        });\r\n  }\r\n\r\n  /**\r\n   * Event handler for submitting changes to a given participants information\r\n   * @param participant \r\n   */\r\n  editParticipant(participant) {\r\n    this.eventRegService.updateParticipant(participant).subscribe(participant => {\r\n      alert(\"Deltagerens nye informationer er gemt\");\r\n      this.setParticipants();\r\n    }, error => {\r\n      console.log(error.status);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Event handler for deleting a given participant from the event\r\n   * @param participant \r\n   */\r\n  deleteParticipant(participant) {\r\n    this.eventRegService.deleteParticipant(participant.eventRegId).subscribe(participant => {\r\n      this.setParticipants();\r\n    }, error => {\r\n      console.log(error.status);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Event handler for deleting the whole event\r\n   */\r\n  deleteEvent() {\r\n    this.eventService.deleteEvent(this.eventId).subscribe(event => {\r\n      this.router.navigateByUrl('/administrerEvents');\r\n    }, error => {\r\n      console.log(error.status);\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Event handler for starting an event\r\n   */\r\n  startEvent() {\r\n    this.eventService.startEvent(this.eventId).subscribe(event => {\r\n      this.setEvent();\r\n    }, error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Event handler for stopping an event\r\n   */\r\n  stopEvent() {\r\n    this.eventService.stopEvent(this.eventId).subscribe(event => {\r\n      this.setEvent();\r\n    }, error => {\r\n      console.log(error)\r\n    })\r\n  }\r\n}\r\n","<div id=\"image\">\r\n    <div class=\"container h-100\">\r\n        <div class=\"row h-100 align-items-end pb-4\">\r\n            <div class=\"image-text col-lg text-start\">\r\n                <h1 class=\"font-weight-normal text-white\">Administrer Event</h1>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"row\">\r\n    <div class=\"col-lg-2\"></div>\r\n    <section class=\"eventList pt-4 col-lg-6\">\r\n        <div class=\"container\">\r\n\r\n            <!-- FormGroup for editing event information -->\r\n            <form [formGroup]=\"eventForm\" *ngIf=\"event | async\" (ngSubmit)=\"onEventSubmit()\">\r\n                <div class=\"event row p-1 pb-2\">\r\n                    <div class=\"pt-4\">\r\n                        <img id=\"eventIcon\" src=\"../../../assets/images/pin.png\">\r\n                    </div>\r\n                    <div class=\"col-sm pt-1\">\r\n                        <input id=\"eventName\" class=\"font-weight-bold font-size-l\" type=\"text\" formControlName=\"name\">\r\n                        <div class=\"row pl-3 pt-2\">\r\n                            <input class=\"font-weight-light font-size-l\" type=\"date\" formControlName=\"eventStart\"\r\n                                value=\"{{(event | async).eventStart | date:'yyyy-MM-dd'}}\">\r\n                            <input class=\"font-weight-light ml-1\" type=\"date\" formControlName=\"eventEnd\"\r\n                                value=\"{{(event | async).eventEnd | date:'yyyy-MM-dd'}}\">\r\n                        </div>\r\n                        <div class=\"row pl-3 pt-2\">\r\n                            <input class=\"font-weight-light mr-1\" type=\"text\" formControlName=\"startTime\">\r\n                            <input class=\"font-weight-light\" type=\"text\" formControlName=\"endTime\">\r\n                        </div>\r\n                        <div class=\"row pl-3 pt-2\">\r\n                            <input class=\"font-weight-light\" type=\"text\" formControlName=\"city\">\r\n                            <button type=\"submit\" [disabled]=\"!eventForm.valid\"\r\n                                class=\"btn btn-outline-info ml-2\">Gem</button>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <!-- Event buttons -->\r\n                    <div class=\"col-sm\">\r\n                        <button type=\"button\" *ngIf=\"!(event|async).isLive\" id=\"eventHandler\"\r\n                            class=\"btn btn-success mr-4\" (click)=\"startEvent()\">Start Event</button>\r\n                        <button type=\"button\" *ngIf=\"(event|async).isLive\" id=\"eventHandler\" class=\"btn btn-danger mr-4\"\r\n                            (click)=\"stopEvent()\">Stop Event</button>\r\n                        <button type=\"button\" class=\"btn btn-info \" routerLink=\"ruteplanner\">{{buttonText}}</button>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n\r\n        <!-- List of participants -->\r\n        <div class=\"container pb-4\">\r\n            <h4 class=\"pt-4\">Deltagere</h4>\r\n            <table>\r\n                <tr>\r\n                    <th class=\"pr-5 \">Fornavn</th>\r\n                    <th class=\"pr-5\">Efternavn</th>\r\n                    <th class=\"pr-5\">Skibsnavn</th>\r\n                    <th class=\"pr-5\">Teamnavn</th>\r\n                    <th>Email</th>\r\n                </tr>\r\n                <tr *ngFor=\"let participant of filteredParticipants | async\">\r\n                    <td>\r\n                        <input class=\"form-control\" required [(ngModel)]=\"participant.firstname\" #firstname=\"ngModel\"\r\n                            name=\"firstname\">\r\n                    </td>\r\n                    <td>\r\n                        <input class=\"form-control\" required [(ngModel)]=\"participant.lastname\" #lastname=\"ngModel\"\r\n                            name=\"lastname\">\r\n                    </td>\r\n                    <td>\r\n                        <input class=\"form-control\" required [(ngModel)]=\"participant.shipName\" #shipName=\"ngModel\"\r\n                            name=\"shipName\">\r\n                    </td>\r\n                    <td>\r\n                        <input class=\"form-control\" required [(ngModel)]=\"participant.teamName\" #teamName=\"ngModel\"\r\n                            name=\"teamName\">\r\n                    </td>\r\n                    <td>\r\n                        <input class=\"form-control\" required [(ngModel)]=\"participant.emailUsername\"\r\n                            #emailUsername=\"ngModel\" name=\"emailUsername\" disabled>\r\n                    </td>\r\n                    <td><button type=\"button\" class=\"btn btn-outline-info\"\r\n                            (click)=\"editParticipant(participant)\">Gem</button></td>\r\n                    <td><button type=\"button\" class=\"btn btn-info\" (click)=\"deleteParticipant(participant)\">\r\n                            <i class=\"fa fa-times\"></i>\r\n                        </button></td>\r\n                </tr>\r\n            </table>\r\n        </div>\r\n    </section>\r\n\r\n    <!-- Right side menu -->\r\n    <div id=\"rightMenu\" class=\"col\">\r\n        <form class=\"form-inline p-3 pt-4\">\r\n            <input class=\"form-control mr-sm-2 form-control-sm\" type=\"search\" placeholder=\"Søg efter deltager\"\r\n                [formControl]=\"filter\" aria-label=\"Søg\">\r\n            <button class=\"btn btn-outline-info my-2 my-sm-0 btn-sm\" type=\"submit\">Søg</button>\r\n        </form>\r\n\r\n        <!-- Form for adding participant -->\r\n        <div class=\"container justify-content-center col-sm-9 mt-5\">\r\n            <form id=\"AddParticipant\" class=\"p-3 pt-4 justify-content-center\" #AddParticipantForm=\"ngForm\"\r\n                (ngSubmit)=\"onSubmit(AddParticipantForm)\">\r\n                <div class=\"row justify-content-center pb-3\">\r\n                    <h3 class=\"font-weight-normal\">Tilføj deltager her</h3>\r\n                </div>\r\n                <div class=\"row justify-content-center pb-2\">\r\n                    <div class=\"col\">\r\n                        <input class=\"form-control mr-sm-2 form-control-sm\" placeholder=\"Fornavn\" required\r\n                            [(ngModel)]=\"model.firstname\" #firstname=\"ngModel\" name=\"firstname\">\r\n                    </div>\r\n                    <div class=\"col\">\r\n                        <input class=\"form-control mr-sm-2 form-control-sm\" placeholder=\"Efternavn\" required\r\n                            [(ngModel)]=\"model.lastname\" #lastname=\"ngModel\" name=\"lastname\">\r\n                    </div>\r\n                </div>\r\n                <div class=\"row justify-content-center pb-2\">\r\n                    <div class=\"col\">\r\n                        <input class=\"form-control mr-sm-2 form-control-sm\" placeholder=\"Bådnavn\" required\r\n                            [(ngModel)]=\"model.shipName\" #shipName=\"ngModel\" name=\"shipName\">\r\n                    </div>\r\n                    <div class=\"col\">\r\n                        <input class=\"form-control mr-sm-2 form-control-sm\" placeholder=\"Teamnavn\" required\r\n                            [(ngModel)]=\"model.teamName\" #teamName=\"ngModel\" name=\"teamName\">\r\n                    </div>\r\n                </div>\r\n                <div class=\"row justify-content-center pr-3\">\r\n                    <div class=\"col\">\r\n                        <input class=\"form-control mr-sm-2 form-control-sm\" placeholder=\"Email\" required\r\n                            [(ngModel)]=\"model.emailUsername\" #email=\"ngModel\" name=\"email\">\r\n                    </div>\r\n                    <button class=\"btn btn-info my-sm-0 btn-sm \" type=\"submit\"\r\n                        [disabled]=\"!AddParticipantForm.form.valid\">Tilmeld</button>\r\n                </div>\r\n            </form>\r\n\r\n            <div class=\"row container justify-content-center pt-3\">\r\n                <p>eller</p>\r\n            </div>\r\n            <div class=\"row container justify-content-center \">\r\n                <button class=\"btn btn-info\">Importer fra CSV</button>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- Button for deleting the event -->\r\n        <div id=\"bottom\" class=\"justify-content-bottom\">\r\n            <button class=\"btn btn-danger\" (click)=\"deleteEvent()\">Slet event</button>\r\n        </div>\r\n    </div>\r\n</div>","import { Component, OnInit, ElementRef, ViewChild } from '@angular/core';\r\nimport { Event } from '../../models/event';\r\nimport { Score } from '../../models/score';\r\nimport { ActivatedRoute, ParamMap } from '@angular/router';\r\nimport { EventService } from 'src/app/services/event.service';\r\nimport { switchMap } from 'rxjs/operators';\r\nimport { Observable } from 'rxjs';\r\nimport { RacePointService } from 'src/app/services/race-point.service';\r\nimport { LocationRegistrationService } from 'src/app/services/location-registration.service';\r\nimport { EventRegistrationService } from 'src/app/services/event-registration.service';\r\nimport { Participant } from 'src/app/models/participant';\r\n\r\n\r\n@Component({\r\n  selector: 'app-event',\r\n  templateUrl: './event.component.html',\r\n  styleUrls: ['./event.component.css']\r\n})\r\n\r\nexport class EventComponent implements OnInit {\r\n\r\n  event: Observable<Event>;\r\n  scoreboard: Observable<Score[]>;\r\n  participants: Observable<Participant[]>;\r\n  hasRoute = false;\r\n  raceIsOver: boolean;\r\n\r\n  @ViewChild('mapContainer', { static: false }) gmap: ElementRef;\r\n  map: google.maps.Map;\r\n  coordinates;\r\n  mapOptions: google.maps.MapOptions;\r\n  markers = []\r\n\r\n  constructor(private eventRegService: EventRegistrationService, private locationRegService: LocationRegistrationService, private route: ActivatedRoute, private eventService: EventService, private racePointService: RacePointService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.event = this.route.paramMap.pipe(\r\n      switchMap((params: ParamMap) =>\r\n        this.eventService.getEvent(parseInt(params.get('eventId'))))\r\n    );\r\n\r\n    //Showing event info depending on the event state\r\n    this.event.subscribe(event => {\r\n      if (event.isLive || event.actualEventStart === undefined) {\r\n        this.raceIsOver = false;\r\n        this.setParticipants(event);\r\n      }\r\n      else {\r\n        this.raceIsOver = true;\r\n        this.setScoreboard(event);\r\n      }\r\n    })\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n\r\n    //Setting the map if the event has a route planned\r\n    this.route.paramMap.pipe(switchMap((params: ParamMap) => {\r\n      return this.eventService.hasRoute(parseInt(params.get('eventId')))\r\n    })).subscribe(route => {\r\n      if (route) {\r\n        this.hasRoute = true;\r\n        this.mapInitializer();\r\n      }\r\n      else\r\n        this.hasRoute = false;\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Initializing the map and setting event checkpoints\r\n   */\r\n  mapInitializer() {\r\n    this.coordinates = new google.maps.LatLng(54.982711, 9.775667);\r\n    this.mapOptions = {\r\n      center: this.coordinates,\r\n      zoom: 11\r\n    };\r\n    this.map = new google.maps.Map(this.gmap.nativeElement, this.mapOptions);\r\n\r\n    this.route.paramMap.pipe(switchMap((params: ParamMap) => {\r\n      return this.racePointService.getAllEventRacePoints(parseInt(params.get('eventId'))).pipe(racePoints => { return racePoints })\r\n    })).subscribe(racePoints => {\r\n      racePoints.forEach(racePoint => {\r\n        this.placeMarker(new google.maps.LatLng(racePoint.firstLatitude, racePoint.firstLongtitude), racePoint.type);\r\n        this.placeMarker(new google.maps.LatLng(racePoint.secondLatitude, racePoint.secondLongtitude), racePoint.type);\r\n      })\r\n      this.map.setCenter(this.markers[0].position);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Placing a marker on the map\r\n   * @param latLng The latitude and longitude og the marker\r\n   * @param type the type of marker\r\n   */\r\n  placeMarker(latLng, type) {\r\n\r\n    var marker = new google.maps.Marker({\r\n      position: latLng,\r\n      map: this.map,\r\n    })\r\n\r\n    if (type === \"finishLine\") {\r\n      marker.setIcon('../assets/images/finishflag.png');\r\n    }\r\n    else if (type === \"startLine\") {\r\n      marker.setIcon('../assets/images/startline.png')\r\n    }\r\n    this.markers.push(marker);\r\n\r\n    if (this.markers.length % 2 === 0) {\r\n      let marker1 = this.markers[this.markers.length - 2];\r\n      let marker2 = this.markers[this.markers.length - 1];\r\n      this.setPolyline(marker1, marker2);\r\n    }\r\n    marker.setMap(this.map);\r\n  }\r\n\r\n  /**\r\n   * Sets a polyline between the two given markers\r\n   * @param marker1 \r\n   * @param marker2 \r\n   */\r\n  setPolyline(marker1, marker2) {\r\n    var lineCoordinates = [marker1.position, marker2.position]\r\n    var line = new google.maps.Polyline({\r\n      path: lineCoordinates,\r\n      geodesic: true,\r\n      strokeColor: '#FF0000',\r\n      strokeOpacity: 1.0,\r\n      strokeWeight: 2\r\n    });\r\n    line.setMap(this.map);\r\n    return line;\r\n  }\r\n\r\n  /**\r\n   * Get all the participants for the event\r\n   * @param event \r\n   */\r\n  setParticipants(event) {\r\n    this.participants = this.eventRegService.getParticipants(event.eventId);\r\n  }\r\n\r\n  /**\r\n   * Get the scoreboard for the event\r\n   * @param event\r\n   */\r\n  setScoreboard(event) {\r\n    this.scoreboard = this.locationRegService.getScoreboard(event.eventId);\r\n  }\r\n}\r\n","<div id=\"image\">\r\n    <div class=\"container h-100\">\r\n        <div class=\"row h-100 align-items-end pb-4\">\r\n            <div class=\"image-text col-lg text-start\">\r\n                <h1 class=\"font-weight-normal text-white\">Event</h1>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"row\">\r\n    <div class=\"col-lg-2\"></div>\r\n    <section class=\"eventList pt-4 col-lg-6\">\r\n\r\n        <!-- Event information -->\r\n        <div class=\"container\" *ngIf=\"event | async as event\">\r\n            <div class=\"event row p-1 pb-3\">\r\n                <div class=\"pt-2\">\r\n                    <img id=\"eventIcon\" src=\"../../../assets/images/pin.png\">\r\n                </div>\r\n                <div class=\"col-sm\">\r\n                    <h1 class=\"font-weight-light\">{{event.name}}</h1>\r\n                    <div id=\"date\" class=\"row pl-3\">\r\n                        <label class=\"h5 font-weight-normal\">{{event.eventStart | date:'d. MMM yyyy'}} - {{event.eventEnd | date:'d. MMM yyyy'}}</label>\r\n                    </div>\r\n                    <div class=\"row pl-3\">\r\n                        <label class=\"h6 font-weight-normal\">{{event.eventStart | date:'HH:mm'}} - {{event.eventEnd | date:'HH:mm'}}</label>\r\n                    </div>\r\n                    <div id=\"city\" class=\"row pl-3\">\r\n                        <label class=\"font-weight-bold\">{{event.city}}</label>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- Scoreboard -->\r\n        <div id=\"scoreboard\" class=\"container pt-4\" *ngIf='raceIsOver'>\r\n            <h4>Scoreboard</h4>\r\n            <table class=\"table\">\r\n                <tr>\r\n                    <th>Placering</th>\r\n                    <th>Ejer/Kaptajn</th>\r\n                    <th>Skibsnavn</th>\r\n                    <th>Team navn</th>\r\n                </tr>\r\n                <tr *ngFor='let score of scoreboard | async'>\r\n                    <td>{{score.placement}}</td>\r\n                    <td>{{score.owner}}</td>\r\n                    <td>{{score.shipName}}</td>\r\n                    <td>{{score.teamName}}</td>\r\n                </tr>\r\n            </table>\r\n        </div>\r\n\r\n        <!-- List of participants -->\r\n        <div class=\"container pt-4\" *ngIf='!raceIsOver'>\r\n            <h4>Deltagere</h4>\r\n            <table id=\"participantsTable\" class=\"table\">\r\n                <tr>\r\n                    <th>Ejer/Kaptajn</th>\r\n                    <th>Båd</th>\r\n                    <th>Team navn</th>\r\n                </tr>\r\n                <tr *ngFor='let participant of participants | async'>\r\n                    <td>{{participant.firstname}} {{participant.lastname}}</td>\r\n                    <td>{{participant.shipName}}</td>\r\n                    <td>{{participant.teamName}}</td>\r\n                </tr>\r\n            </table>\r\n        </div>\r\n    </section>\r\n    \r\n    <!-- Right side menu -->\r\n    <div id=\"rightMenu\" class=\"col\">\r\n        <div *ngIf=\"!hasRoute\" class=\"pt-2\">\r\n            Der er endnu ikke fastlagt en rute\r\n        </div>\r\n        <section [(ngModel)]=\"hasRoute\" class=\"eventList pt-4 col\">\r\n            <div #mapContainer id=\"map\"></div>\r\n        </section>\r\n    </div>\r\n</div>\r\n\r\n","import { Component, OnInit, NgModule } from '@angular/core';\r\nimport { Event } from 'src/app/models/Event';\r\nimport { Observable, combineLatest } from 'rxjs';\r\nimport { EventService } from 'src/app/services/event.service';\r\nimport { FormControl } from '@angular/forms';\r\nimport { map, startWith } from 'rxjs/operators';\r\n\r\n\r\n@Component({\r\n  selector: 'app-events',\r\n  templateUrl: './events.component.html',\r\n  styleUrls: ['./events.component.css']\r\n})\r\n\r\nexport class EventsComponent implements OnInit {\r\n\r\n  events: Observable<Event[]>;\r\n  filter: FormControl;\r\n  filter$: Observable<string>;\r\n  filteredEvents: Observable<Event[]>;\r\n\r\n  constructor(private eventService: EventService) {\r\n    this.events = this.eventService.getEvents();\r\n    this.filter = new FormControl('');\r\n    this.filter$ = this.filter.valueChanges.pipe(startWith(''));\r\n\r\n    //Setting searchfilter\r\n    this.filteredEvents = combineLatest(this.events, this.filter$)\r\n      .pipe(map(([events, filterString]) => events.filter(event => event.name.toLowerCase().indexOf(filterString.toLowerCase()) !== -1 || event.city.toLowerCase().indexOf(filterString.toLowerCase()) !== -1)));\r\n   }\r\n\r\n  ngOnInit(): void {}\r\n\r\n}\r\n","<div id=\"image\">\r\n    <div class=\"container h-100 align-items-start\">\r\n        <div class=\"row h-100 align-items-end pb-4\">\r\n            <div class=\" col-lg text-start\">\r\n                <h1 class=\"image-text font-weight-normal text-white pb-2 pl-3 pr-3\">Events</h1>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"row\">\r\n    <div class=\"col-lg-2\"></div>\r\n    <section class=\"eventList pt-4 col-lg-6\">\r\n\r\n        <!-- List of events -->\r\n        <div class=\"container pb-4\" *ngFor=\"let event of filteredEvents | async\">\r\n            <div class=\"event row p-1 pb-3\">\r\n                <div class=\"pt-2\">\r\n                    <img id=\"eventIcon\" src=\"../../../assets/images/pin.png\">\r\n                </div>\r\n                <div class=\"col-sm\">\r\n                    <a id=\"eventLink\" class=\"btn btn-link\" [routerLink]=\"['/events', event.eventId, event.name]\" routerLinkActive=\"active\"><h4 class=\"pt-1\">{{event.name}}</h4></a>\r\n                    <div id=\"date\" class=\"row pl-3\">\r\n                        <label>{{event.eventStart | date:'d. MMM yyyy'}} - {{event.eventEnd | date:'d. MMM yyyy'}}</label>\r\n                    </div>\r\n                    <div id=\"city\" class=\"row pl-3\">\r\n                        <label>{{event.city}}</label>\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-sm pt-4\" *ngIf=\"event.isLive\">\r\n                    <button class=\"btn btn-info\" [routerLink]=\"['/events', event.eventId, event.name, 'live']\" routerLinkActive=\"active\">Se live</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div *ngIf=\"(filteredEvents | async).length === 0\">\r\n            Ingen events macthede det søgte\r\n        </div>\r\n    </section>\r\n\r\n    <!-- Right side menu -->\r\n    <div id=\"rightMenu\" class=\"col\">\r\n        <form class=\"form-inline p-3 pt-4\">\r\n            <input class=\"form-control mr-sm-2 form-control-sm\" type=\"search\" placeholder=\"Søg efter event\" [formControl]=\"filter\" aria-label=\"Søg\">\r\n            <button class=\"btn btn-outline-info my-2 my-sm-0 btn-sm\" type=\"submit\">Søg</button>\r\n        </form>\r\n    </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-home',\r\n  templateUrl: './home.component.html',\r\n  styleUrls: ['./home.component.css']\r\n})\r\nexport class HomeComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<!-- Image -->\r\n<header class=\"masthead\">\r\n    <div class=\"container h-100\">\r\n        <div class=\"row h-100 align-items-center\">\r\n            <div class=\"image-text col-12 text-center\">\r\n                <h1 class=\"font-weight-normal text-white\">Live tracking til sejlads</h1>\r\n                <p class=\"lead font-weight-normal text-white\">Gør svær at følge sport interessant med GPS-sporing i realtid</p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</header>\r\n\r\n<!-- Page Content -->\r\n<section class=\"py-5\">\r\n    <div class=\"container\">\r\n        <h2 class=\"font-weight-light\">Velkommen</h2>\r\n        <p>Udforsk vores hjemmeside hvor du har mulighed som tilskuer, for både at tilmelde dig et event, følge events live eller se tilbage på resultaterne fra tidligere events. Er du bestyrer af et event, har du også mulighed for at administrer dine events her.</p>\r\n    </div>\r\n</section>\r\n","import { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\r\nimport { ActivatedRoute, ParamMap } from '@angular/router';\r\nimport { switchMap, startWith, race } from 'rxjs/operators';\r\nimport { EventService } from 'src/app/services/event.service';\r\nimport { Event } from '../../models/event';\r\nimport { RacePointService } from 'src/app/services/race-point.service';\r\nimport { Observable, interval } from 'rxjs';\r\nimport { Score } from 'src/app/models/score';\r\nimport { LocationRegistrationService } from 'src/app/services/location-registration.service';\r\n\r\n@Component({\r\n  selector: 'app-live-event',\r\n  templateUrl: './live-event.component.html',\r\n  styleUrls: ['./live-event.component.css']\r\n})\r\nexport class LiveEventComponent implements OnInit {\r\n\r\n  @ViewChild('mapContainer', { static: false }) gmap: ElementRef;\r\n  map: google.maps.Map;\r\n  mapOptions: google.maps.MapOptions;\r\n  coordinates;\r\n  markers = [];\r\n  boatMarkers = [];\r\n\r\n  timer: any;\r\n\r\n  event: Event;\r\n  scoreboard: Observable<Score[]>;\r\n\r\n  constructor(private route: ActivatedRoute, private eventService: EventService, private racePointService: RacePointService, private locationRegService: LocationRegistrationService) {\r\n    this.coordinates = new google.maps.LatLng(54.982711, 9.775667);\r\n    this.mapOptions = {\r\n      center: this.coordinates,\r\n      zoom: 11\r\n    };\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.route.paramMap.pipe(\r\n      switchMap((params: ParamMap) =>\r\n        this.eventService.getEvent(parseInt(params.get('eventId'))).pipe(event => { return event }))).subscribe(event => { this.event = event });\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    this.mapInitializer();\r\n  }\r\n\r\n  /**\r\n   * Initializing the map with start- and finishline\r\n   */\r\n  mapInitializer() {\r\n    this.map = new google.maps.Map(this.gmap.nativeElement, this.mapOptions);\r\n\r\n    this.route.paramMap.pipe(switchMap((params: ParamMap) => {\r\n      return this.racePointService.getStartAndFinish(parseInt(params.get('eventId'))).pipe(racePoints => { return racePoints })\r\n    })).subscribe(racePoints => {\r\n      console.log(\"racepoints lenght\" + racePoints.length)\r\n      this.placeMarker(new google.maps.LatLng(racePoints[0].firstLatitude, racePoints[0].firstLongtitude), '../assets/images/startline.png');\r\n      this.placeMarker(new google.maps.LatLng(racePoints[0].secondLatitude, racePoints[0].secondLongtitude), '../assets/images/startline.png');\r\n\r\n      this.placeMarker(new google.maps.LatLng(racePoints[racePoints.length - 1].firstLatitude, racePoints[racePoints.length - 1].firstLongtitude), '../assets/images/finishflag.png');\r\n      this.placeMarker(new google.maps.LatLng(racePoints[racePoints.length - 1].secondLatitude, racePoints[racePoints.length - 1].secondLongtitude), '../assets/images/finishflag.png');\r\n\r\n      this.map.setCenter(new google.maps.LatLng(racePoints[0].firstLatitude, racePoints[0].firstLongtitude));\r\n      this.initializeBoatTracking();\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Place the given marker on the map\r\n   * @param latLng Latitude and longitude of the marker\r\n   * @param url The image url for the marker\r\n   */\r\n  placeMarker(latLng, url) {\r\n\r\n    var marker = new google.maps.Marker({\r\n      position: latLng,\r\n      map: this.map,\r\n      icon: url\r\n    })\r\n\r\n    this.markers.push(marker);\r\n\r\n    if (this.markers.length % 2 === 0) {\r\n      let marker1 = this.markers[this.markers.length - 2];\r\n      let marker2 = this.markers[this.markers.length - 1];\r\n      var polyline = this.setPolyline(marker1, marker2);\r\n    }\r\n    marker.setMap(this.map);\r\n  }\r\n\r\n  /**\r\n   * Place a polyline between the two given markers\r\n   * @param marker1 \r\n   * @param marker2 \r\n   */\r\n  setPolyline(marker1, marker2) {\r\n    var lineCoordinates = [marker1.position, marker2.position]\r\n    var line = new google.maps.Polyline({\r\n      path: lineCoordinates,\r\n      geodesic: true,\r\n      strokeColor: '#000000',\r\n      strokeOpacity: 1.0,\r\n      strokeWeight: 2\r\n    });\r\n    line.setMap(this.map);\r\n  }\r\n\r\n  /**\r\n   * Calling the backend every 1 second to get ship positions\r\n   */\r\n  initializeBoatTracking() {\r\n    this.timer = setInterval(() => {\r\n      this.locationRegService.getLive(this.event.eventId).subscribe(scores => {\r\n        this.setBoatMarkers(scores);\r\n        return scores;\r\n      }, error => {\r\n\r\n      });\r\n    }, 1000);\r\n  }\r\n\r\n  /**\r\n   * Setting or moving the the ship markers to the new given positions\r\n   * @param scores \r\n   */\r\n  setBoatMarkers(scores: Score[]) {\r\n\r\n    this.scoreboard = new Observable<Score[]>((observer) => {\r\n      observer.next(scores);\r\n    });\r\n\r\n    if (this.boatMarkers === null || this.boatMarkers.length === 0) {\r\n      scores.forEach(score => {\r\n        let boat = new google.maps.Marker({\r\n          position: new google.maps.LatLng(score.locationsRegistrations[0].latitude, score.locationsRegistrations[0].longtitude),\r\n          map: this.map,\r\n          icon: '../assets/images/boatIcon.png',\r\n          label: {\r\n            text: score.placement.toString(),\r\n            color: score.color\r\n          }\r\n        })\r\n        boat.setMap(this.map);\r\n        boat.setTitle(score.shipId.toString() + \" \" + score.teamName);\r\n        this.boatMarkers.push(boat);\r\n      });\r\n    }\r\n    else {\r\n      this.boatMarkers.forEach(boat => {\r\n        let index = scores.map(function (e) { return e.shipId }).indexOf(parseInt(boat.getTitle()));\r\n        boat.setLabel({text: scores[index].placement.toString(), color: scores[index].color})\r\n        boat.setPosition(new google.maps.LatLng(scores[index].locationsRegistrations[0].latitude, scores[index].locationsRegistrations[0].longtitude));\r\n      })\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Stopping the interval calls to the backend\r\n   */\r\n  ngOnDestroy() {\r\n    clearInterval(this.timer);\r\n  }\r\n}\r\n\r\n\r\n","<div class=\"row\">\r\n    <div class=\"col-lg-2\"></div>\r\n\r\n    <!-- The map -->\r\n    <section class=\"eventList pt-4 col-lg-6\">\r\n        <div #mapContainer id=\"map\"></div>\r\n    </section>\r\n\r\n    <!-- Right side menu -->\r\n    <div id=\"rightMenu\" class=\"col\">\r\n        <div class=\"row pt-4 pl-3\">\r\n            <h3>Event: </h3>\r\n            <h3 class=\"font-weight-light pl-2\">{{event.name}}</h3>\r\n        </div>\r\n\r\n        <!-- The scoreboard -->\r\n        <div id=\"scoreboard\" class=\"row pl-3 pr-3\">\r\n            <table id=\"table\" class=\"table justify-content-center\">\r\n                <tr>\r\n                    <th class=\"pt-1 text-center\">Placering</th>\r\n                    <th class=\"pt-1\">Team navn</th>\r\n                    <th class=\"pt-1\">Farve</th>\r\n                </tr>\r\n\r\n                <tr *ngFor=\"let score of scoreboard | async\">\r\n                    <td class=\"text-center\">{{score.placement}}</td>\r\n                    <td class=\"pl-3 pr-0\">{{score.teamName}}</td>\r\n                    <td>{{score.color}}</td>\r\n                </tr>\r\n            </table>\r\n        </div>\r\n    </div>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { UserService } from 'src/app/services/user.service';\r\nimport { User } from 'src/app/models/user';\r\nimport { CookieService } from 'ngx-cookie-service';\r\nimport { Router } from '@angular/router';\r\nimport { first } from 'rxjs/operators';\r\nimport { AppComponent } from 'src/app/app.component';\r\nimport * as decode from 'jwt-decode';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.css']\r\n})\r\nexport class LoginComponent implements OnInit {\r\n\r\n  public model: User;\r\n  public wrongLogin: boolean = false;\r\n  public wrongPassword: boolean = false;\r\n\r\n  constructor(private userService: UserService, private cookieService: CookieService, private router: Router, private appComponent: AppComponent) {\r\n    this.model = new User();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  /**\r\n   * Event handler for clicking login\r\n   */\r\n  OnSubmit() {\r\n    this.userService.login(this.model.emailUsername, this.model.password).pipe(first())\r\n      .subscribe(user => {\r\n        this.cookieService.set('user', JSON.stringify(user), 1);\r\n        \r\n        if (user.role === \"admin\") {\r\n          this.router.navigate(['/administrerEvents']);\r\n        }\r\n        else {\r\n          this.router.navigate(['/mineEvents']);\r\n        }\r\n        this.appComponent.updateUser();\r\n      },\r\n      //Showing error message to the user depending on the http respons\r\n        error => {\r\n          if (error.status === 401) {\r\n            this.model.password = \"\";\r\n            this.wrongLogin = false;\r\n            this.wrongPassword = true;\r\n          }\r\n          else if(error.status === 404)\r\n            this.model.emailUsername = \"\";\r\n            this.model.password = \"\";\r\n            this.wrongPassword = false;\r\n            this.wrongLogin = true;\r\n        });\r\n  }\r\n}\r\n","<div class=\"register\">\r\n    <div class=\"register-left\">\r\n        <img src=\"assets/images/shipIcon.png\" />\r\n        <h3 class=\"header\">Log ind</h3>\r\n\r\n        <!-- Login form -->\r\n        <form class=\"form\" (ngSubmit)=\"OnSubmit()\">\r\n            <input class=\"form-control\" type=\"text\" placeholder=\"Email/brugernavn\" [(ngModel)]=\"model.emailUsername\"\r\n                name=\"email\" #email=\"ngModel\">\r\n            <input class=\"form-control\" type=\"password\" placeholder=\"Adgangskode\" [(ngModel)]=\"model.password\"\r\n                name=\"password\" #password=\"ngModel\">\r\n            <div *ngIf=\"(email.touched || password.touched) && (email.pristine || password.pristine)\">\r\n                <div *ngIf=\"wrongLogin\">\r\n                    Der findes ikke en bruger med den indtastede email\r\n                </div>\r\n                <div *ngIf=\"wrongPassword\">\r\n                    Forkert adgangskode\r\n                </div>\r\n            </div>\r\n            <br />\r\n            <input id=\"login\" type=\"submit\" value=\"Login\" routerLink=\"/logind\" />\r\n        </form>\r\n        <br />\r\n        <p><a routerLink=\"/tilmelding\">Opret profil</a></p>\r\n    </div>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-page-not-found',\r\n  templateUrl: './page-not-found.component.html',\r\n  styleUrls: ['./page-not-found.component.css']\r\n})\r\nexport class PageNotFoundComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<body>\r\n<div class=\"mainbox\">\r\n    <div class=\"err\">404</div>\r\n    <div class=\"msg\">Måske er denne side flyttet? Blevet slettet? Gemmer sig i karentænen? Aldrig eksisteret til at starte med?<p>Lad os tage <a [routerLink]=\"['/hjem']\">hjem</a> og fortsætte derfra.</p></div>\r\n      </div>\r\n    </body>","import { Component, OnInit } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { Ship } from 'src/app/models/ship';\r\nimport { User } from 'src/app/models/user';\r\nimport { CookieService } from 'ngx-cookie-service';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { ShipService } from 'src/app/services/ship.service';\r\nimport { UserService } from 'src/app/services/user.service';\r\nimport { AppComponent } from 'src/app/app.component';\r\n\r\n@Component({\r\n  selector: 'app-profile',\r\n  templateUrl: './profile.component.html',\r\n  styleUrls: ['./profile.component.css']\r\n})\r\nexport class ProfileComponent implements OnInit {\r\n\r\n  ships: Observable<Ship[]>\r\n  user: User;\r\n  model = new Ship();\r\n\r\n  constructor(private cookieService: CookieService, private http: HttpClient, private shipService: ShipService, private userService: UserService, private appComponent: AppComponent) { }\r\n\r\n  ngOnInit(): void {\r\n    this.setShips();\r\n    this.user = JSON.parse(this.cookieService.get('user'));\r\n  }\r\n\r\n  /**\r\n   * Getting all users ships\r\n   */\r\n  setShips() {\r\n    this.ships = this.shipService.getMyShips();\r\n  }\r\n\r\n  /**\r\n   * Event handler for deleting a ship\r\n   * @param ship \r\n   */\r\n  deleteShip(ship) {\r\n    this.shipService.deleteShip(ship.shipId).subscribe(ship => this.setShips());\r\n  }\r\n\r\n  /**\r\n   * Event handler for submitting changes to the user profile\r\n   */\r\n  OnSubmit() {\r\n    this.userService.updateUser(this.user).subscribe(res => {\r\n      this.cookieService.set('user', JSON.stringify(this.user));\r\n      this.appComponent.updateUser();\r\n      alert(\"Dine nye oplysninger er nu gemt\")\r\n    }, error => {\r\n      this.user = JSON.parse(this.cookieService.get('user'));\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Event handler for submitting a new ship\r\n   */\r\n  OnShipSubmit() {\r\n    this.shipService.addShip(this.model).subscribe(ship => this.setShips());\r\n  }\r\n}\r\n","<div id=\"image\">\r\n    <div class=\"container h-100 align-items-start\">\r\n        <div class=\"row h-100 align-items-end pb-4\">\r\n            <div class=\" col-lg text-start\">\r\n                <h1 class=\"image-text font-weight-normal text-white pb-2 pl-3 pr-3\">Din profil</h1>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div id=\"main\" class=\"row\">\r\n    <div class=\"col-lg-2\"></div>\r\n    <div class=\"pt-5 col-lg-6\">\r\n        <div id=\"profileInfo\">\r\n            <h4 class=\"ml-5 mb-4\">Dine profiloplysninger</h4>\r\n\r\n            <!-- Form for user information -->\r\n            <form class=\"form\" #updateUserForm=\"ngForm\" (ngSubmit)=\"OnSubmit()\">\r\n                <div class=\"row ml-5 mb-2\">\r\n                    <div class=\"col-xsm\">\r\n                        <input type=\"text\" class=\"form-control\" placeholder=\"Fornavn\" required\r\n                            [(ngModel)]=\"user.firstname\" #firstname=\"ngModel\" name=\"firstname\">\r\n                    </div>\r\n                    <div>\r\n                        <input type=\"text\" class=\"form-control ml-3\" placeholder=\"Efternavn\" required\r\n                            [(ngModel)]=\"user.lastname\" #lastname=\"ngModel\" name=\"lastname\">\r\n                    </div>\r\n                </div>\r\n                <div class=\"row ml-5 mb-2\">\r\n                    <div class=\"col-xsm\">\r\n                        <input type=\"password\" class=\"psw form-control\" placeholder=\"Gamle adgangskode\">\r\n                    </div>\r\n                    <div>\r\n                        <input type=\"password\" class=\"psw form-control ml-3\" placeholder=\"Ny adgangskode\">\r\n                    </div>\r\n                </div>\r\n                <div class=\"row ml-5\">\r\n                    <div>\r\n                        <input type=\"text\" class=\"form-control\" placeholder=\"Email\" required\r\n                            [(ngModel)]=\"user.emailUsername\" #emailUsername=\"ngModel\" name=\"emailUsername\">\r\n                    </div>\r\n                    <div>\r\n                        <button class=\"btn btn-outline-info ml-3\" type=\"submit\"\r\n                            [disabled]=\"!updateUserForm.form.valid\">Gem ændringer</button>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n\r\n        <!-- List of ships -->\r\n        <div class=\"container pt-4 ml-4\" *ngFor=\"let ship of ships | async\">\r\n            <div class=\"row p-1 pb-3\">\r\n                <div class=\"pt-2\">\r\n                    <img id=\"ship\" src=\"../../../assets/images/boatIcon.png\">\r\n                </div>\r\n                <div class=\"col-xsm pt-4 pl-1\">\r\n                    <h5 class=\"font-weight-normal\">{{ship.name}}</h5>\r\n                </div>\r\n                <div class=\"col pt-3 pl-3\">\r\n                    <button class=\"btn\" (click)=\"deleteShip(ship)\">\r\n                        <i class=\"fa fa-times-circle\"></i>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <!-- Right side menu -->\r\n    <div id=\"rightMenu\" class=\"col\">\r\n\r\n        <!-- Form for submitting new ship -->\r\n        <form id=\"addShip\" class=\"p-3 pt-4 justify-content-center\" #AddShipForm=\"ngForm\" (ngSubmit)=\"OnShipSubmit()\">\r\n            <div class=\"row justify-content-center pb-3\">\r\n                <h3 class=\"font-weight-normal\">Tilføj båd her</h3>\r\n            </div>\r\n            <div class=\"row justify-content-center pb-2\">\r\n                <div class=\"col\">\r\n                    <input class=\"form-control mr-sm-2 form-control-sm\" placeholder=\"Båd navn\" required\r\n                        [(ngModel)]=\"model.name\" #shipName=\"ngModel\" name=\"shipName\">\r\n                </div>\r\n                <button class=\"btn btn-info my-sm-0 btn-sm mr-3\" type=\"submit\"\r\n                    [disabled]=\"!AddShipForm.form.valid\">Tilføj båd</button>\r\n            </div>\r\n        </form>\r\n    </div>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { User } from 'src/app/models/user';\r\nimport { UserService } from 'src/app/services/user.service';\r\nimport { Router } from '@angular/router';\r\nimport { first } from 'rxjs/operators';\r\nimport { CookieService } from 'ngx-cookie-service';\r\nimport { AppComponent } from 'src/app/app.component';\r\n\r\n@Component({\r\n  selector: 'app-registration',\r\n  templateUrl: './registration.component.html',\r\n  styleUrls: ['./registration.component.css']\r\n})\r\nexport class RegistrationComponent implements OnInit {\r\n\r\n  public model: User;\r\n  public isAvaliable: boolean = true;\r\n\r\n  constructor(private userService: UserService, private router: Router, private cookieService: CookieService, private appComponent: AppComponent) {\r\n    this.model = new User();\r\n  }\r\n\r\n  /**\r\n   * Event handler for submitting as new user\r\n   */\r\n  OnSubmit() {\r\n    this.userService.registerUser(this.model).pipe(first())\r\n      .subscribe(user => {\r\n        this.model.role = \"user\";\r\n        this.cookieService.set('user', JSON.stringify(this.model), 1);\r\n        this.router.navigateByUrl('/mineEvents');\r\n        this.appComponent.updateUser();\r\n      },\r\n        error => {\r\n          if (error.status === 409) {\r\n            this.model.emailUsername = \"\";\r\n            this.isAvaliable = false;\r\n          }\r\n        });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n}\r\n","<div class=\"register\">\r\n    <div class=\"row\">\r\n\r\n        <!-- Login -->\r\n        <div class=\"col-md-3 register-left\">\r\n            <img src=\"assets/images/shipIcon.png\" />\r\n            <h3>Velkommen</h3>\r\n            <p>Hvis du allerede har en profil kan du logge ind her</p>\r\n            <input type=\"submit\" value=\"Login\" routerLink=\"/logind\" /><br />\r\n        </div>\r\n        <div class=\"col-md-9 register-right\">\r\n\r\n            <!-- Register form -->\r\n            <h3 class=\"register-heading\">Opret en profil</h3>\r\n            <form (ngSubmit)=\"OnSubmit()\" #registerForm=\"ngForm\">\r\n                <div class=\"row register-form\">\r\n                    <div class=\"col-md-6\">\r\n                        <div class=\"form-group\">\r\n                            <input type=\"text\" class=\"form-control\" [(ngModel)]=\"model.firstname\" #firstname=\"ngModel\"\r\n                                name=\"firstname\" placeholder=\"Fornavn\" pattern=\"^[a-zA-ZÆØÅæøå ]*\" required />\r\n                            <div *ngIf=\"firstname.invalid && firstname.touched\">\r\n                                <div *ngIf=\"firstname.errors.required\">\r\n                                    Fornavn er nødvendig\r\n                                </div>\r\n                                <div *ngIf=\"firstname.errors.pattern\">\r\n                                    Fornavn må kun indeholde bogstaver\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group\">\r\n                            <input type=\"text\" class=\"form-control\" [(ngModel)]=\"model.lastname\" #lastname=\"ngModel\"\r\n                                name=\"lastname\" placeholder=\"Efternavn\" pattern=\"^[a-zA-ZÆØÅæøå ]*\" required />\r\n                            <div *ngIf=\"lastname.invalid && lastname.touched\">\r\n                                <div *ngIf=\"lastname.errors.required\">\r\n                                    Efternavn er nødvendig\r\n                                </div>\r\n                                <div *ngIf=\"lastname.errors.pattern\">\r\n                                    Efternavn må kun indeholde bogstaver\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group\">\r\n                            <input type=\"email\" class=\"form-control\" placeholder=\"Email\"\r\n                                [(ngModel)]=\"model.emailUsername\" #email=\"ngModel\" name=\"email\"\r\n                                pattern=\"^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$\"\r\n                                required />\r\n                            <div *ngIf=\"email.invalid && email.touched\">\r\n                                <div *ngIf=\"email.errors.required\">\r\n                                    Email er nødvendig\r\n                                </div>\r\n                                <div *ngIf=\"email.errors.pattern\">\r\n                                    Ugyldig email\r\n                                </div>\r\n                                <div *ngIf=\"!isAvaliable\">\r\n                                    Der eksisterer allerede en bruger med denne email\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"col-md-6\">\r\n                        <div class=\"form-group\">\r\n                            <input type=\"password\" class=\"form-control\" placeholder=\"Adgangskode\" value=\"\"\r\n                                [(ngModel)]=\"model.password\" #password=\"ngModel\" name=\"password\"\r\n                                pattern=\"^(?=.*[a-zA-ZÆØÅæøå])(?=.*\\d)[a-zA-ZÆØÅæøå\\d]*$\" minlength=\"8\" required />\r\n\r\n                            <div *ngIf=\"password.invalid && password.touched\">\r\n                                <div *ngIf=\"password.errors.required\">\r\n                                    Adgangskode er nødvendig\r\n                                </div>\r\n                                <div *ngIf=\"password.errors.pattern\">\r\n                                    Adgangskoden skal indeholde både tal og bogstaver\r\n                                </div>\r\n                                <div *ngIf=\"password.errors.minlength\">\r\n                                    Adgangskoden skal være mindst 8 karakterer lang\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"form-group\">\r\n                            <input type=\"password\" class=\"form-control\" placeholder=\"Bekræft Adgangskode\" value=\"\"\r\n                                [(ngModel)]=\"model.confirmPassword\" #confirmPassword=\"ngModel\" name=\"confirmPassword\"\r\n                                ngValidateEqual=\"password\" required />\r\n                            <div *ngIf=\"confirmPassword.invalid && confirmPassword.touched\">\r\n                                <div *ngIf=\"confirmPassword.errors.required\">\r\n                                    Bekræft Adgangskode er nødvendig\r\n                                </div>\r\n                                <div *ngIf=\"confirmPassword.hasError('notEqual') && password.valid\">\r\n                                    Matcher ikke ovenstående adgangskode\r\n                                </div>\r\n                            </div>\r\n                            <input type=\"submit\" class=\"btnRegister\" value=\"Registrer\"\r\n                                [disabled]=\"!registerForm.form.valid\" />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    </div>\r\n</div>","import { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\r\nimport { CheckPoint } from 'src/app/models/check-point';\r\nimport { Event } from '../../models/event';\r\nimport { ActivatedRoute, ParamMap, Router } from '@angular/router';\r\nimport { switchMap } from 'rxjs/operators';\r\nimport { EventService } from 'src/app/services/event.service';\r\nimport { RacePointService } from 'src/app/services/race-point.service';\r\nimport { RacePoint } from 'src/app/models/race-point';\r\nimport { Location } from '@angular/common';\r\n\r\n@Component({\r\n  selector: 'app-rute-planner',\r\n  templateUrl: './rute-planner.component.html',\r\n  styleUrls: ['./rute-planner.component.css']\r\n})\r\nexport class RutePlannerComponent implements OnInit {\r\n\r\n  @ViewChild('mapContainer', { static: false }) gmap: ElementRef;\r\n  map: google.maps.Map;\r\n\r\n  event: Event;\r\n  coordinates;\r\n  markers = [];\r\n  polylines = [];\r\n  checkPoints = [];\r\n  racePoints: RacePoint[];\r\n  secondMarker = false;\r\n  mapOptions: google.maps.MapOptions;\r\n\r\n  ngOnInit(): void {\r\n    this.route.paramMap.pipe(\r\n      switchMap((params: ParamMap) =>\r\n        this.eventService.getEvent(parseInt(params.get('eventId'))).pipe(event => { return event }))).subscribe(event => { this.event = event });\r\n  }\r\n\r\n  constructor(private route: ActivatedRoute, private eventService: EventService, private racePointService: RacePointService, private location: Location) {\r\n    this.coordinates = new google.maps.LatLng(54.982711, 9.775667);\r\n    this.mapOptions = {\r\n      center: this.coordinates,\r\n      zoom: 10\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Placing a marker on the map\r\n   * @param latLng Latitude and Longitude of the marker\r\n   * @param type the type of marker\r\n   */\r\n  placeMarker(latLng) {\r\n\r\n    var marker = new google.maps.Marker({\r\n      position: latLng,\r\n      map: this.map,\r\n    })\r\n\r\n    if (this.markers.length === 0 || this.markers.length === 1) {\r\n      marker.setIcon('../assets/images/startline.png');\r\n    }\r\n    else {\r\n      if (this.markers.length > 3)\r\n        this.markers[this.markers.length - 2].setIcon('../assets/images/MapPin.png');\r\n      marker.setIcon('../assets/images/finishflag.png')\r\n    }\r\n\r\n    this.markers.push(marker);\r\n\r\n    if (this.markers.length % 2 === 0) {\r\n      let marker1 = this.markers[this.markers.length - 2];\r\n      let marker2 = this.markers[this.markers.length - 1];\r\n      var polyline = this.setPolyline(marker1, marker2);\r\n      this.setCheckpoint(marker1, marker2, polyline);\r\n    }\r\n    marker.setMap(this.map);\r\n  }\r\n\r\n  /**\r\n   * Sets a polyline between the two given markers\r\n   * @param marker1 \r\n   * @param marker2 \r\n   */\r\n  setPolyline(marker1, marker2): google.maps.Polyline {\r\n    var lineCoordinates = [marker1.position, marker2.position]\r\n    var line = new google.maps.Polyline({\r\n      path: lineCoordinates,\r\n      geodesic: true,\r\n      strokeColor: '#FF0000',\r\n      strokeOpacity: 1.0,\r\n      strokeWeight: 2\r\n    });\r\n    this.polylines.push(line);\r\n    line.setMap(this.map);\r\n    return line;\r\n  }\r\n\r\n  /**\r\n   * Saving the two given markers and polyline as a checkpoint\r\n   * @param marker1 \r\n   * @param marker2 \r\n   * @param polyline \r\n   */\r\n  setCheckpoint(marker1, marker2, polyline) {\r\n    this.checkPoints.push(new CheckPoint(this.checkPoints.length + 1, marker1, marker2, polyline));\r\n  }\r\n\r\n\r\n  ngAfterViewInit() {\r\n    this.mapInitializer();\r\n\r\n    //Setting the already planned event markers \r\n    this.route.paramMap.pipe(switchMap((params: ParamMap) => {\r\n      return this.racePointService.getAllEventRacePoints(parseInt(params.get('eventId'))).pipe(racePoints => { return racePoints })\r\n    })).subscribe(racePoints => {\r\n      racePoints.forEach(racePoint => {\r\n        this.placeMarker(new google.maps.LatLng(racePoint.firstLatitude, racePoint.firstLongtitude));\r\n        this.placeMarker(new google.maps.LatLng(racePoint.secondLatitude, racePoint.secondLongtitude));\r\n      })\r\n      this.map.setCenter(this.markers[0].position);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Initializing the map\r\n   */\r\n  mapInitializer() {\r\n    this.map = new google.maps.Map(this.gmap.nativeElement, this.mapOptions);\r\n    this.map.addListener('click', (event) => {\r\n      this.placeMarker(event.latLng);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Deleting the given checkpoint\r\n   * @param checkPointChoosen \r\n   */\r\n  deleteCheckPoint(checkPointChoosen) {\r\n\r\n    this.checkPoints.forEach(checkPoint => {\r\n      if (this.checkPoints.indexOf(checkPointChoosen) < this.checkPoints.indexOf(checkPoint)) {\r\n        checkPoint.id = checkPoint.id - 1;\r\n      }\r\n    })\r\n    this.deleteCheckPointMarkers(checkPointChoosen)\r\n\r\n    this.checkPoints.splice(this.checkPoints.indexOf(checkPointChoosen), 1);\r\n  }\r\n\r\n  /**\r\n   * Removing the given checkpoints markers and polyline\r\n   * @param checkPoint \r\n   */\r\n  deleteCheckPointMarkers(checkPoint) {\r\n    if (this.markers.length - 2 === this.markers.indexOf(checkPoint.pin1) && this.markers.indexOf(checkPoint.pin1) !== 2) {\r\n      this.markers[this.markers.length - 4].setIcon('../assets/images/finishflag.png');\r\n      this.markers[this.markers.length - 3].setIcon('../assets/images/finishflag.png');\r\n    }\r\n\r\n    checkPoint.pin1.setMap(null);\r\n    checkPoint.pin2.setMap(null);\r\n    checkPoint.polyline.setMap(null);\r\n\r\n    this.markers.splice(this.markers.indexOf(checkPoint.pin1), 2);\r\n    this.polylines.splice(this.polylines.indexOf(checkPoint.polyline), 1);\r\n  }\r\n\r\n  /**\r\n   * Saving the checkpoints in the backend\r\n   */\r\n  saveRoute() {\r\n    this.racePoints = [];\r\n    this.checkPoints.forEach(checkpoint => {\r\n      let newRacePoint = new RacePoint(checkpoint.pin1.getPosition().lng(), checkpoint.pin1.getPosition().lat(), checkpoint.pin2.getPosition().lng(), checkpoint.pin2.getPosition().lat(), parseInt(this.event.eventId), this.racePoints.length + 1);\r\n      if (checkpoint.id === 1)\r\n        newRacePoint.type = \"startLine\";\r\n      else if (checkpoint.id === this.checkPoints.length)\r\n        newRacePoint.type = \"finishLine\";\r\n      else\r\n        newRacePoint.type = \"checkpoint\";\r\n\r\n      this.racePoints.push(newRacePoint);\r\n    });\r\n\r\n    this.racePointService.saveRoute(this.racePoints, parseInt(this.event.eventId)).pipe().subscribe(racepoints => {\r\n      this.location.back();\r\n    },\r\n      error => {\r\n        console.log(error);\r\n      });\r\n  }\r\n}\r\n","<div class=\"row\">\r\n    <div class=\"col-lg-2\"></div>\r\n\r\n    <!-- map -->\r\n    <section class=\"eventList pt-4 col-lg-6\">\r\n        <div #mapContainer id=\"map\"></div>\r\n    </section>\r\n\r\n    <!-- Right side menu -->\r\n    <div id=\"rightMenu\" class=\"col\">\r\n        <div class=\"row pt-4 pl-3\">\r\n            <h3>Event: </h3>\r\n            <h3 class=\"font-weight-light pl-2\">{{event.name}}</h3>\r\n        </div>\r\n\r\n        <!-- List of checkpoints -->\r\n        <div id=\"checkPoints\" class=\"row pl-3 pr-3\">\r\n\r\n            <table id=\"table\" class=\"table justify-content-center\">\r\n                <tr>\r\n                    <th class=\"pl-2 pt-1\">CheckPoint</th>\r\n                    <th class=\"pl-3 pt-1\">Pin koordinater</th>\r\n                    <th class=\"pt-1\">Pin koordinater</th>\r\n                </tr>\r\n\r\n                <tr *ngFor=\"let checkPoint of checkPoints\">\r\n                    <td class=\"text-center\">{{checkPoint.id}}</td>\r\n                    <td class=\"pl-3 pr-0\">{{checkPoint.pin1.position}}</td>\r\n                    <td>{{checkPoint.pin2.position}}</td>\r\n                    <td class=\"pr-5 mr-5\">\r\n                        <button id=\"removeCheckPoint\" type=\"button\" class=\"btn\" (click)=\"deleteCheckPoint(checkPoint)\">\r\n                            <i class=\"fa fa-times-circle\"></i>\r\n                        </button>\r\n                    </td>\r\n                </tr>\r\n            </table>\r\n        </div>\r\n        <div *ngIf=\"checkPoints.length > 1\" class=\"row justify-content-center\">\r\n            <button class=\"btn btn-info mb-3\" (click)=\"saveRoute()\">Gem rute</button>\r\n        </div>\r\n    </div>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { Observable, combineLatest } from 'rxjs';\r\nimport { FormControl, NgForm } from '@angular/forms';\r\nimport { EventService } from 'src/app/services/event.service';\r\nimport { startWith, map } from 'rxjs/operators';\r\nimport { CookieService } from 'ngx-cookie-service';\r\nimport { MyEvents } from 'src/app/models/my-events';\r\nimport { EventSignUp } from 'src/app/models/event-sign-up';\r\nimport { Ship } from 'src/app/models/ship';\r\nimport { ShipService } from 'src/app/services/ship.service';\r\nimport { EventRegistrationService } from 'src/app/services/event-registration.service';\r\n\r\n@Component({\r\n  selector: 'app-user-dashboard',\r\n  templateUrl: './user-dashboard.component.html',\r\n  styleUrls: ['./user-dashboard.component.css']\r\n})\r\nexport class UserDashboardComponent implements OnInit {\r\n\r\n  events: Observable<MyEvents[]>;\r\n  filter: FormControl;\r\n  filter$: Observable<string>;\r\n  filteredEvents: Observable<MyEvents[]>;\r\n\r\n  ships: Observable<Ship[]>;\r\n  model = new EventSignUp(\"\", \"\");\r\n  alreadySignedUp:boolean = false;\r\n  WrongEventCode:boolean = false;\r\n\r\n  constructor(private eventService: EventService, private eventRegService: EventRegistrationService, private shipService: ShipService, private cookieService:CookieService) {\r\n    this.setMyEvents();\r\n   }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  /**\r\n   * Get all the events the user is a participant of and initialize the search function\r\n   */\r\n  setMyEvents()\r\n  {\r\n    this.events = this.eventService.getMyEvents();\r\n    this.ships = this.shipService.getMyShips(); \r\n    this.filter = new FormControl('');\r\n    this.filter$ = this.filter.valueChanges.pipe(startWith(''));\r\n\r\n    this.filteredEvents = combineLatest(this.events, this.filter$)\r\n      .pipe(map(([events, filterString]) => events.filter(event => event.name.toLowerCase().indexOf(filterString.toLowerCase()) !== -1 || event.city.toLowerCase().indexOf(filterString.toLowerCase()) !== -1 || event.teamName.toLowerCase().indexOf(filterString.toLowerCase()) !== -1 || event.shipName.toLowerCase().indexOf(filterString.toLowerCase()) !== -1)));\r\n  }\r\n\r\n  /**\r\n   * Event handler for submitting as a participant to an event\r\n   * @param form \r\n   */\r\n  OnSubmit(form: NgForm)\r\n  {\r\n    this.eventRegService.SignUpForEvent(this.model.ship.shipId, this.model.teamName, this.model.eventCode).pipe()\r\n    .subscribe(eventReg => {\r\n      this.setMyEvents();\r\n      form.reset();\r\n      this.WrongEventCode = false;\r\n      this.alreadySignedUp = false;\r\n    }, \r\n    error => {\r\n      if(error.status === 409)\r\n      {\r\n        console.log(\"error message: \"+error.message);\r\n        this.model.eventCode = \"\";\r\n        this.WrongEventCode = false;\r\n        this.alreadySignedUp = true;\r\n      }\r\n      else if(error.status === 404)\r\n      {\r\n        console.log(\"error message: \"+error.statusText+error.url);\r\n        this.alreadySignedUp = false;\r\n        this.WrongEventCode = true;\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Event handler for unsubmitting as participant to an event\r\n   * @param event \r\n   */\r\n  unSubToEvent(event){\r\n    console.log(\"delete eventReg called\")\r\n    this.eventRegService.deleteParticipant(event.eventRegId).subscribe(eventReg => {\r\n      this.setMyEvents();\r\n    }, error => {\r\n      console.log(error.status);\r\n    });\r\n  }\r\n}\r\n","<div id=\"image\">\r\n    <div class=\"container h-100 align-items-start\">\r\n        <div class=\"row h-100 align-items-end pb-4\">\r\n            <div class=\" col-lg text-start\">\r\n                <h1 class=\"image-text font-weight-normal text-white pl-3 pr-3\">Tilmeldte events</h1>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"row\">\r\n    <div class=\"col-lg-2\"></div>\r\n    <section class=\"eventList pt-4 col-lg-6\">\r\n\r\n        <!-- List of events -->\r\n        <div class=\"container\" *ngFor=\"let event of filteredEvents | async\">\r\n            <div class=\"event row p-1 pb-3\">\r\n                <div class=\"pt-2\">\r\n                    <img id=\"eventIcon\" src=\"../../../assets/images/pin.png\">\r\n                </div>\r\n                <div class=\"col-sm\">\r\n                    <a id=\"eventLink\" class=\"btn btn-link\" [routerLink]=\"['/events', event.eventId, event.name]\"\r\n                        routerLinkActive=\"active\">\r\n                        <h4 class=\"pt-1\">{{event.name}}</h4>\r\n                    </a>\r\n                    <div id=\"date\" class=\"row pl-3\">\r\n                        <label>{{event.eventStart | date}} - {{event.eventEnd | date}}</label>\r\n                    </div>\r\n                    <div id=\"city\" class=\"row pl-3\">\r\n                        <label>{{event.city}}</label>\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-sm pt-4\">\r\n                    <div class=\"row\">\r\n                        <label class=\"font-weight-bold pr-1\">Team navn:</label>\r\n                        <label>{{event.teamName}}</label>\r\n                    </div>\r\n                    <div class=\"row\">\r\n                        <label class=\"font-weight-bold pr-1\">Båd: </label>\r\n                        <label>{{event.shipName}}</label>\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-sm pt-4\">\r\n                    <button *ngIf=\"event.actualEventStart === undefined\" class=\"btn btn-outline-danger\"\r\n                        (click)=\"unSubToEvent(event)\">Afmeld\r\n                        <a class=\"fa fa-times\"></a>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div *ngIf=\"!(events | async) || (events | async).length === 0\">\r\n            <p>Du er endnu ikke tilmeldt nogen events</p>\r\n        </div>\r\n    </section>\r\n\r\n    <!-- Right side menu -->\r\n    <div id=\"rightMenu\" class=\"col\">\r\n        <form class=\"form-inline p-3 pt-3\">\r\n            <input class=\"form-control mr-sm-2 form-control-sm\" type=\"search\" placeholder=\"Søg efter event\"\r\n                [formControl]=\"filter\" aria-label=\"Søg\">\r\n            <button class=\"btn btn-outline-info my-2 my-sm-0 btn-sm\" type=\"submit\">Søg</button>\r\n        </form>\r\n\r\n        <!-- Participant submit form -->\r\n        <div class=\"container justify-content-center col-sm-9 mt-5\">\r\n            <form id=\"eventReg\" class=\"p-3 pt-4 justify-content-center\" #SignUpForm=\"ngForm\"\r\n                (ngSubmit)=\"OnSubmit(SignUpForm)\">\r\n                <div class=\"row justify-content-center pb-3\">\r\n                    <h3 class=\"font-weight-normal\">Tilmeld dig et event her</h3>\r\n                </div>\r\n                <div class=\"row justify-content-center pb-2\">\r\n                    <div class=\"col\">\r\n                        <input class=\"form-control mr-sm-2 form-control-sm\" placeholder=\"Team navn\" required\r\n                            [(ngModel)]=\"model.teamName\" #teamName=\"ngModel\" name=\"teamName\">\r\n                    </div>\r\n                    <div id=\"selectLabel\" class=\"col-sm-2 pt-1\">\r\n                        <label>Båd: </label>\r\n                    </div>\r\n                    <div class=\"col p-0 pr-3\">\r\n                        <select id=\"select\" class=\"form-control\" required [(ngModel)]=\"model.ship\" name=\"shipName\">\r\n                            <option *ngFor=\"let ship of (ships | async)\" [ngValue]=\"ship\">{{ship.name}}</option>\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n                <div class=\"row justify-content-center pr-3\">\r\n                    <div class=\"col\">\r\n                        <input class=\"form-control mr-sm-2 form-control-sm\" placeholder=\"Eventkode\" required\r\n                            [(ngModel)]=\"model.eventCode\" #eventCode=\"ngModel\" name=\"eventCode\">\r\n                    </div>\r\n                    <button class=\"btn btn-info my-sm-0 btn-sm \" type=\"submit\"\r\n                        [disabled]=\"!SignUpForm.form.valid\">Tilmeld</button>\r\n                </div>\r\n                <div *ngIf=\"alreadySignedUp\" class=\"row justify-content-center pt-2\">\r\n                    <label>Du er allerede tilmeldt dette event</label>\r\n                </div>\r\n                <div *ngIf=\"WrongEventCode\" class=\"row justify-content-center pt-2\">\r\n                    <label>Ugyldig eventkode</label>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    </div>\r\n</div>","import { Injectable } from '@angular/core';\r\nimport { CanActivate, ActivatedRouteSnapshot, Router } from '@angular/router';\r\nimport { CookieService } from 'ngx-cookie-service';\r\nimport * as decode from 'jwt-decode';\r\nimport { User } from '../models/user';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AuthGuard implements CanActivate {\r\n\r\n  private user: User;\r\n\r\n  constructor(private router: Router, private cookieService: CookieService) { }\r\n\r\n  /**\r\n   * Determines if the user is allowed access to route\r\n   * @param route \r\n   */\r\n  canActivate(route: ActivatedRouteSnapshot): boolean {\r\n    const expectedRole = route.data.expectedRole;\r\n    if (this.cookieService.check('user') && this.Authenticate(expectedRole)) {\r\n      return true;\r\n    }\r\n    else {\r\n      this.router.navigate([\"/logind\"]);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Authenticates the users role with the necesarry role for the route\r\n   * @param expectedRole \r\n   */\r\n  Authenticate(expectedRole): boolean {\r\n    this.user = JSON.parse(this.cookieService.get('user'));\r\n    const tokenDecoded = this.getDecodedAccessToken(this.user.token);\r\n\r\n    if (expectedRole === \"admin\" && tokenDecoded.role !== expectedRole)\r\n      return false;\r\n    else\r\n      return true;\r\n  }\r\n\r\n  /**\r\n   * Decodes the token\r\n   * @param token \r\n   */\r\n  getDecodedAccessToken(token: string): any {\r\n    try {\r\n      return decode(token);\r\n    }\r\n    catch (error) {\r\n      return null;\r\n    }\r\n  }\r\n\r\n}\r\n","export class Event {\r\n    constructor(\r\n        public eventId?:string, \r\n        public name?:string, \r\n        public eventStart?:string, \r\n        public eventEnd?:string, \r\n        public city?:string, \r\n        public eventCode?:string, \r\n        public eventStartTime?: string, \r\n        public eventEndTime?: string, \r\n        public isLive?:boolean, \r\n        public actualEventStart?: string\r\n        ){}\r\n}\r\n","export class CheckPoint {\r\n    constructor(\r\n        public id: number, \r\n        public pin1: google.maps.Marker, \r\n        public pin2: google.maps.Marker, \r\n        public polyline: google.maps.Polyline\r\n        ){}\r\n}\r\n","import { Ship } from './ship';\r\n\r\nexport class EventSignUp {\r\n    constructor(\r\n        public teamName: string, \r\n        public eventCode: string, \r\n        public ship?: Ship\r\n        ){}\r\n}\r\n","export class Event {\r\n    constructor(\r\n        public eventId?:string, \r\n        public name?:string, \r\n        public eventStart?:string, \r\n        public eventEnd?:string, \r\n        public city?:string, \r\n        public eventCode?:string, \r\n        public eventStartTime?: string, \r\n        public eventEndTime?: string, \r\n        public isLive?:boolean, \r\n        public actualEventStart?: string\r\n        ){}\r\n}\r\n","export class Participant {\r\n    constructor(\r\n        public firstname: string, \r\n        public lastname: string, \r\n        public shipName:string, \r\n        public teamName: string, \r\n        public emailUsername: string, \r\n        public eventId?:string, \r\n        public eventRegId?: string\r\n        ){}\r\n}\r\n","export class RacePoint {\r\n    constructor(\r\n        public firstLongtitude?: number, \r\n        public firstLatitude?:number, \r\n        public secondLongtitude?: number, \r\n        public secondLatitude?: number, \r\n        public eventId?: Number, \r\n        public racePointNumber?: Number, \r\n        public racePointId?: Number, \r\n        public type?: string\r\n        ){}\r\n}\r\n","export class Ship {\r\n    constructor(\r\n        public shipId?: number, \r\n        public name?: string\r\n        ){}\r\n}\r\n","export class User {\r\n    public firstname:string;\r\n    public lastname:string;\r\n    public emailUsername:string;\r\n    public phone:string;\r\n    public username:string;\r\n    public password:string;\r\n    public confirmPassword:string;\r\n    public token:string;\r\n    public role:string;\r\n    constructor(){}\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { CookieService } from 'ngx-cookie-service';\r\nimport { EventRegistration } from '../models/event-registration';\r\nimport { HttpHeaders, HttpClient } from '@angular/common/http';\r\nimport { map } from 'rxjs/operators';\r\nimport { Participant } from '../models/participant';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class EventRegistrationService {\r\n\r\n  //  private eventRegistrationUrl = 'https://oxbridgecloud.azurewebsites.net/eventRegistrations/';\r\n\r\n  private eventRegistrationUrl = 'http://localhost:3000/eventRegistrations/';\r\n\r\n  constructor(private cookieService: CookieService, private http: HttpClient) { }\r\n\r\n  /**\r\n   * Sends a http post request to the backend, in order to sign up for an event\r\n   * @param shipId \r\n   * @param teamName \r\n   * @param eventCode \r\n   */\r\n  public SignUpForEvent(shipId:number, teamName:string, eventCode:string): Observable<EventRegistration> {\r\n    let user = JSON.parse(this.cookieService.get('user'));\r\n    const httpOptions = {\r\n      headers: new HttpHeaders({\r\n        'Content-Type': 'application/json',\r\n        'x-access-token': user.token\r\n      })\r\n    }\r\n    return this.http.post<EventRegistration>(this.eventRegistrationUrl+\"signUp\", {shipId, teamName, eventCode}, httpOptions).pipe(map(eventReg => { return eventReg}));\r\n  }\r\n\r\n  /**\r\n   * Sends a http get request to the backend in order to get all participants of an event and returns the respons\r\n   * @param eventId \r\n   */\r\n  public getParticipants(eventId:Number): Observable<Participant[]>{\r\n    return this.http.get<Participant[]>(this.eventRegistrationUrl+\"getParticipants/\"+eventId).pipe(map(participants => { return participants }))\r\n  }\r\n\r\n  /**\r\n   * Sends a http post request to the backend, in order to add a participant to an event\r\n   * @param participant \r\n   */\r\n  public addParticipant(participant): Observable<Participant>{\r\n    let user = JSON.parse(this.cookieService.get('user'));\r\n    const httpOptions = {\r\n      headers: new HttpHeaders({\r\n        'Content-Type': 'application/json',\r\n        'x-access-token': user.token\r\n      })\r\n    }\r\n    return this.http.post<Participant>(this.eventRegistrationUrl+\"addParticipant\", participant, httpOptions).pipe(map(participant => {return participant}));\r\n  }\r\n\r\n  /**\r\n   * Sends a http put request to the backend, in order to update a participants information\r\n   * @param participant \r\n   */\r\n  public updateParticipant(participant): Observable<Participant>{\r\n    let user = JSON.parse(this.cookieService.get('user'));\r\n    const httpOptions = {\r\n      headers: new HttpHeaders({\r\n        'Content-Type': 'application/json',\r\n        'x-access-token': user.token\r\n      })\r\n    }\r\n    return this.http.put<Participant>(this.eventRegistrationUrl+\"updateParticipant/\"+participant.eventRegId, participant, httpOptions).pipe(map(participant => {return participant}));\r\n  }\r\n\r\n  /**\r\n   * Sends a http delete request to the backend, in order to delete an participant for an event\r\n   * @param eventRegId \r\n   */\r\n  public deleteParticipant(eventRegId): Observable<EventRegistration>{\r\n    let user = JSON.parse(this.cookieService.get('user'));\r\n    const httpOptions = {\r\n      headers: new HttpHeaders({\r\n        'Content-Type': 'application/json',\r\n        'x-access-token': user.token\r\n      })\r\n    }\r\n    return this.http.delete<EventRegistration>(this.eventRegistrationUrl+eventRegId, httpOptions).pipe(map(eventRegistration => {return eventRegistration}));\r\n  }\r\n\r\n  public unSubscribeToEvent(eventRegId): Observable<EventRegistration>\r\n  {\r\n    let user = JSON.parse(this.cookieService.get('user'));\r\n    const httpOptions = {\r\n      headers: new HttpHeaders({\r\n        'Content-Type': 'application/json',\r\n        'x-access-token': user.token\r\n      })\r\n    }\r\n    return this.http.delete<EventRegistration>(this.eventRegistrationUrl+eventRegId, httpOptions).pipe(map(eventReg => {return eventReg}));\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { Event } from 'src/app/models/event';\r\nimport { Observable } from 'rxjs';\r\nimport { catchError, map, tap } from 'rxjs/operators';\r\nimport { CookieService } from 'ngx-cookie-service';\r\nimport { MyEvents } from '../models/my-events';\r\nimport { EventRegistration } from '../models/event-registration';\r\nimport { Participant } from '../models/participant';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class EventService {\r\n\r\n  // private eventsUrl = 'https://oxbridgecloud.azurewebsites.net/events/';\r\n\r\n  private eventsUrl = 'http://localhost:3000/events/';\r\n  constructor(private http: HttpClient, private cookieService:CookieService) { }\r\n\r\n  /**\r\n   * Sends a http get event to the backend, in order to retrieve all events\r\n   */\r\n  public getEvents(): Observable<Event[]> {\r\n    return this.http.get<Event[]>(this.eventsUrl)\r\n      .pipe(\r\n        catchError(this.handleError<Event[]>('getEvents', []))\r\n      );\r\n  }\r\n\r\n  /**\r\n   * Sends a http get request to the backend, in order to retrieve an specific event\r\n   * @param eventId - The id of the event\r\n   */\r\n  public getEvent(eventId:Number): Observable<Event> {\r\n    return this.http.get<Event>(this.eventsUrl+eventId)\r\n      .pipe(map(event => { return event}));\r\n  }\r\n\r\n  /**\r\n   * Sends a http get request to the backend, in order to retrieve all events, that the user is a participant of\r\n   */\r\n  public getMyEvents(): Observable<MyEvents[]> {\r\n    let user = JSON.parse(this.cookieService.get('user'));\r\n    console.log(\"user token: \"+user.token);\r\n    const httpOptions = {\r\n      headers: new HttpHeaders({\r\n        'Content-Type': 'application/json',\r\n        'x-access-token': user.token\r\n      })\r\n    }\r\n    return this.http.get<MyEvents[]>(this.eventsUrl+\"myEvents/findFromUsername\", httpOptions)\r\n      .pipe(map(events => { return events }));\r\n  }\r\n\r\n  /**\r\n   * Sends a http post request to the backend, in order to create a new event\r\n   * @param event - the new event\r\n   */\r\n  public AddEvent(event: Event): Observable<Event> {\r\n    let user = JSON.parse(this.cookieService.get('user'));\r\n    const httpOptions = {\r\n      headers: new HttpHeaders({\r\n        'Content-Type': 'application/json',\r\n        'x-access-token': user.token\r\n      })\r\n    }\r\n    \r\n    event.eventStart = event.eventStart+\"T\"+event.eventStartTime+\":00.000+00:00\";\r\n    event.eventEnd = event.eventEnd+\"T\"+event.eventEndTime+\":00.000+00:00\";\r\n\r\n    return this.http.post<Event>(this.eventsUrl, event, httpOptions).pipe(map(event => { return event }));\r\n  }\r\n\r\n  /**\r\n   * Sends a http put request to the backend, in order to update an event  \r\n   * @param event - The new event information\r\n   * @param eventId - The id of the event\r\n   */\r\n  public updateEvent(event, eventId): Observable<Event>{\r\n    let user = JSON.parse(this.cookieService.get('user'));\r\n    const httpOptions = {\r\n      headers: new HttpHeaders({\r\n        'Content-Type': 'application/json',\r\n        'x-access-token': user.token\r\n      })\r\n    }\r\n    return this.http.put(this.eventsUrl+eventId, event, httpOptions).pipe(map(event => {return event}));\r\n  }\r\n\r\n  /**\r\n   * Sends a http delete request to the backend, in order to delete an event\r\n   * @param eventId - The id of the event\r\n   */\r\n  public deleteEvent(eventId): Observable<Event>{\r\n    let user = JSON.parse(this.cookieService.get('user'));\r\n    const httpOptions = {\r\n      headers: new HttpHeaders({\r\n        'Content-Type': 'application/json',\r\n        'x-access-token': user.token\r\n      })\r\n    }\r\n    return this.http.delete(this.eventsUrl+eventId, httpOptions).pipe(map(event => {return event}));\r\n  }\r\n\r\n  /**\r\n   * Sends a http get request to the backend, in order to check if the event has a route\r\n   * @param eventId - The id of the event\r\n   */\r\n  public hasRoute(eventId: Number): Observable<boolean>{\r\n    return this.http.get<boolean>(this.eventsUrl+\"hasRoute/\"+eventId).pipe(map(res => { return res }))\r\n  }\r\n\r\n  /**\r\n   * Sends a http put request to the backend, in order to start an event\r\n   * @param eventId - The id of the event\r\n   */\r\n  public startEvent(eventId): Observable<Event>{\r\n    let user = JSON.parse(this.cookieService.get('user'));\r\n    const httpOptions = {\r\n      headers: new HttpHeaders({\r\n        'Content-Type': 'application/json',\r\n        'x-access-token': user.token\r\n      })\r\n    }\r\n    let dateTimeNow = new Date(Date.now());\r\n    dateTimeNow.setHours(dateTimeNow.getHours()+2);\r\n    return this.http.put<Event>(this.eventsUrl+\"startEvent/\"+eventId, {actualEventStart: dateTimeNow.toUTCString()}, httpOptions).pipe(map(event => { return event }));\r\n  }\r\n\r\n  /**\r\n   * Sends a http get request to the backend, in order to stop an event\r\n   * @param eventId - The id of the event\r\n   */\r\n  public stopEvent(eventId): Observable<Event>{\r\n    let user = JSON.parse(this.cookieService.get('user'));\r\n    const httpOptions = {\r\n      headers: new HttpHeaders({\r\n        'Content-Type': 'application/json',\r\n        'x-access-token': user.token\r\n      })\r\n    }\r\n    return this.http.get<Event>(this.eventsUrl+\"stopEvent/\"+eventId, httpOptions).pipe(map(event => {return event}));\r\n  }\r\n\r\n  /**\r\n   * Handle Http operation that failed.\r\n   * Let the app continue.\r\n   * @param operation - name of the operation that failed\r\n   * @param result - optional value to return as the observable result\r\n   */\r\n  private handleError<T>(operation = 'operation', result?: T) {\r\n    return (error: any): Observable<T> => {\r\n      return null;\r\n    };\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { Score } from '../models/score';\nimport { HttpClient } from '@angular/common/http';\nimport { map } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LocationRegistrationService {\n\n  private locationRegUrl = \"http://localhost:3000/locationRegistrations/\";\n\n  //private locationRegUrl = \"https://oxbridgecloud.azurewebsites.net/locationRegistrations/\";\n  constructor(private http: HttpClient) { }\n\n  /**\n   * Sends a http get request to the backend, in order to get the latest standings in a race\n   * @param eventId - The id of the event\n   */\n  public getLive(eventId): Observable<Score[]>\n  {\n    return this.http.get<Score[]>(this.locationRegUrl+\"getLive/\"+eventId).pipe(map(score => { return score}));\n  }\n\n  /**\n   * Sends a http get request to the backend, in order to get the final scores\n   * @param eventId - The id of the event\n   */\n  public getScoreboard(eventId): Observable<Score[]>\n  {\n    return this.http.get<Score[]>(this.locationRegUrl+\"getScoreboard/\"+eventId).pipe(map(score => {return score}));\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { map } from 'rxjs/operators';\nimport { CheckPoint } from '../models/check-point';\nimport { RacePoint } from '../models/race-point';\nimport { CookieService } from 'ngx-cookie-service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RacePointService {\n\n  // private racepointUrl = 'https://oxbridgecloud.azurewebsites.net/racepoints/';\n\n  private racepointUrl = 'http://localhost:3000//racepoints/';\n  \n  constructor(private http: HttpClient, private cookieService: CookieService) { }\n\n  /**\n   * Sends a http get request to the backend, in order to get all racepoints\n   * @param eventId - The id of the event\n   */\n  public getAllEventRacePoints(eventId: Number): Observable<RacePoint[]> {\n\n    return this.http.get<RacePoint[]>(this.racepointUrl + \"fromEventId/\" + eventId)\n      .pipe(map(racePoints => { return racePoints }));\n  }\n\n  /**\n   * Sends a http get request to the backend, in order to get start and finish points\n   * @param eventId - The id of the event\n   */\n  public getStartAndFinish(eventId): Observable<RacePoint[]>{\n    return this.http.get<RacePoint[]>(this.racepointUrl+\"findStartAndFinish/\"+eventId).pipe(map(racePoints => { return racePoints }))\n  }\n\n  /**\n   * Sends a http post request to the backend, in order to save a new route\n   * @param racepoints - The racepoints of the route\n   * @param eventId - The id of the event\n   */\n  public saveRoute(racepoints: RacePoint[], eventId:number): Observable<RacePoint[]> {\n    let user = JSON.parse(this.cookieService.get('user'));\n    const httpOptions = {\n      headers: new HttpHeaders({\n        'Content-Type': 'application/json',\n        'x-access-token': user.token\n      })\n    }\n    return this.http.post<RacePoint[]>(this.racepointUrl+\"createRoute/\"+eventId, racepoints, httpOptions).pipe(map(racepoints => {return racepoints}));\n  }\n}\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { CookieService } from 'ngx-cookie-service';\r\nimport { Ship } from '../models/ship';\r\nimport { Observable } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ShipService {\r\n\r\n  private shipUrl = 'https://oxbridgecloud.azurewebsites.net/ships/'\r\n\r\n  constructor(private http: HttpClient, private cookieService:CookieService) { }\r\n\r\n  /**\r\n   * Sends a http get request to the backend, in order to get all users ships\r\n   */\r\n  public getMyShips(): Observable<Ship[]> {\r\n    let user = JSON.parse(this.cookieService.get('user'));\r\n    const httpOptions = {\r\n      headers: new HttpHeaders({\r\n        'Content-Type': 'application/json',\r\n        'x-access-token': user.token\r\n      })\r\n    }\r\n    return this.http.get<Ship[]>(this.shipUrl+\"myShips/fromUsername\", httpOptions)\r\n      .pipe(map(ships => { return ships }));\r\n  }\r\n\r\n  /**\r\n   * Sends a http delete request to the backend, in order to delete a ship\r\n   * @param shipId - The id of the ship\r\n   */\r\n  public deleteShip(shipId): Observable<Ship>{\r\n    let user = JSON.parse(this.cookieService.get('user'));\r\n    const httpOptions = {\r\n      headers: new HttpHeaders({\r\n        'Content-Type': 'application/json',\r\n        'x-access-token': user.token\r\n      })\r\n    }\r\n    return this.http.delete<Ship>(this.shipUrl+shipId, httpOptions)\r\n      .pipe(map(ship => { return ship }));\r\n  }\r\n\r\n  /**\r\n   * Sends a http post request to the backend, in order to add a ship\r\n   * @param newShip - The new ship to be added\r\n   */\r\n  public addShip(newShip: Ship): Observable<Ship>\r\n  {\r\n    let user = JSON.parse(this.cookieService.get('user'));\r\n    const httpOptions = {\r\n      headers: new HttpHeaders({\r\n        'Content-Type': 'application/json',\r\n        'x-access-token': user.token\r\n      })\r\n    }\r\n    return this.http.post<Ship>(this.shipUrl, newShip, httpOptions).pipe(map(ship => { return ship }));\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\nimport { User } from '../models/user';\r\nimport * as decode from 'jwt-decode';\r\nimport { CookieService } from 'ngx-cookie-service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class UserService {\r\n\r\n  private userUrl = 'https://oxbridgecloud.azurewebsites.net/users/'\r\n\r\n  constructor(private http: HttpClient, private cookieService: CookieService) { }\r\n\r\n  /**\r\n   * Sends a http post request to the backend, in order to register as a new user\r\n   * @param newUser - The new user to be registered\r\n   */\r\n  public registerUser(newUser: User): Observable<User> {\r\n    return this.http.post<User>(this.userUrl+\"register\", newUser).pipe(map(user => {\r\n      user.role = this.getDecodedAccessToken(user.token).role;\r\n      return user;\r\n    }));\r\n  }\r\n\r\n  /**\r\n   * Sends a http post request to the backend, in order to login\r\n   * @param emailUsername - The emailUsername of the user\r\n   * @param password - The password of the user\r\n   */\r\n  public login(emailUsername:string, password:string): Observable<User> {\r\n    return this.http.post<User>(this.userUrl+'login', {emailUsername, password}).pipe(map(user => {\r\n      user.role = this.getDecodedAccessToken(user.token).role;\r\n      return user;\r\n    }));\r\n  }\r\n\r\n  /**\r\n   * Decodes the given token\r\n   * @param token - The token that should be decoded\r\n   */\r\n  getDecodedAccessToken(token: string): any {\r\n    try {\r\n      return decode(token);\r\n    }\r\n    catch (error) {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Sends a http put request to the backend, in order to update a user\r\n   * @param newUser - The updated user\r\n   */\r\n  public updateUser(newUser): Observable<User>{\r\n    let user = JSON.parse(this.cookieService.get('user'));\r\n    const httpOptions = {\r\n      headers: new HttpHeaders({\r\n        'Content-Type': 'application/json',\r\n        'x-access-token': user.token\r\n      })\r\n    }\r\n    return this.http.put<User>(this.userUrl+user.emailUsername, newUser, httpOptions).pipe(map(user => { return user }));\r\n  }\r\n}\r\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"]}